import{d as O,u as T,a as G,o as r,c as n,b as e,f as K,v as F,x as q,F as p,r as y,h as S,t as c,i as H,j as $,e as J,k as Q,B as g}from"./index.js";import{_ as W}from"./ModelSelector.vue_vue_type_script_setup_true_lang.js";import{_ as X}from"./_plugin-vue_export-helper.js";const Y={class:"max-w-6xl mx-auto space-y-6"},Z={class:"flex items-center justify-between"},ee={class:"card"},te={class:"mb-6"},ae={class:"mb-6"},se={class:"grid grid-cols-3 sm:grid-cols-6 gap-3"},le=["onClick"],oe={class:"text-2xl"},re={class:"text-xs mt-1 text-gray-500 dark:text-gray-400"},ne={class:"mb-6"},ie={class:"flex flex-wrap gap-3"},de=["onClick"],ce=["disabled"],ue={key:0,class:"mt-4 p-4 bg-danger-50 dark:bg-danger-900/20 text-danger-600 dark:text-danger-400 rounded-lg"},ge={class:"card"},be={class:"space-y-4"},ve={class:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2"},me={class:"flex flex-wrap gap-2"},xe=["onClick"],pe={key:0,class:"card"},ye={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},fe=["src","alt"],he={class:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-4"},ke={class:"text-white text-sm line-clamp-2 mb-3"},_e={class:"flex gap-2"},we=["onClick"],Ce=["onClick"],Ie=["onClick"],$e=["onClick"],Ue=["src","alt"],Se={class:"mt-4 text-center"},je={class:"text-white text-sm"},Ae=O({__name:"ImageGenView",setup(ze){const i=T(),j=G(),b=g(""),v=g("realistic"),_=g("1024x1024"),f=g(!1),u=g(""),w=[{value:"realistic",label:"çœŸå®ç…§ç‰‡",icon:"ğŸ“·"},{value:"product",label:"å•†å“å±•ç¤º",icon:"ğŸ›ï¸"},{value:"lifestyle",label:"ç”Ÿæ´»åœºæ™¯",icon:"ğŸ "},{value:"minimal",label:"ç®€çº¦ç™½åº•",icon:"â¬œ"},{value:"artistic",label:"è‰ºæœ¯é£æ ¼",icon:"ğŸ¨"},{value:"3d",label:"3Dæ¸²æŸ“",icon:"ğŸ®"}],A=[{value:"512x512",label:"512Ã—512"},{value:"1024x1024",label:"1024Ã—1024"},{value:"1024x768",label:"1024Ã—768 (æ¨ªç‰ˆ)"},{value:"768x1024",label:"768Ã—1024 (ç«–ç‰ˆ)"}],z=[{category:"ç¾å¦†æŠ¤è‚¤",prompts:["ç²¾è‡´å£çº¢ç‰¹å†™ï¼Œé‡‘è‰²åŒ…è£…ï¼Œå¤§ç†çŸ³èƒŒæ™¯","æŠ¤è‚¤ç²¾åæ¶²ç“¶èº«ï¼Œè‡ªç„¶å…‰çº¿ï¼Œæ¸…æ–°é£æ ¼"]},{category:"æ•°ç ç”µå­",prompts:["æ— çº¿è€³æœºå±•ç¤ºï¼Œç§‘æŠ€æ„ŸèƒŒæ™¯ï¼Œè“è‰²ç¯å…‰","æ™ºèƒ½æ‰‹è¡¨ç‰¹å†™ï¼Œå•†åŠ¡é£æ ¼ï¼Œç®€çº¦èƒŒæ™¯"]},{category:"æœé¥°é‹åŒ…",prompts:["æ—¶å°šè¿åŠ¨é‹ï¼Œç™½è‰²èƒŒæ™¯ï¼Œäº§å“æ‘„å½±","çœŸçš®æ‰‹æåŒ…ï¼ŒæŸ”å’Œç¯å…‰ï¼Œé«˜çº§è´¨æ„Ÿ"]},{category:"é£Ÿå“ç”Ÿé²œ",prompts:["æ–°é²œæ°´æœæ‹¼ç›˜ï¼Œè‡ªç„¶å…‰çº¿ï¼Œå¥åº·æ´»åŠ›","ç²¾ç¾è›‹ç³•ï¼Œç”œå“æ‘„å½±ï¼Œæ¸©é¦¨æ°›å›´"]}],m=g([]),C=g(!1),x=g(null),E=s=>{x.value=s,C.value=!0},U=()=>{C.value=!1,x.value=null},L=async()=>{var t,o;if(!i.isImageEnabled){u.value="è¯·å…ˆåœ¨è®¾ç½®é¡µé¢é…ç½®å›¾åƒç”Ÿæˆæ¨¡å‹çš„ API Key";return}if(!b.value.trim()){u.value="è¯·è¾“å…¥å›¾ç‰‡æè¿°";return}f.value=!0,u.value="";const s=b.value;let a=s;try{if(i.isTextEnabled){const I=await i.getTextService().chat([{role:"user",content:`è¯·å°†ä»¥ä¸‹å•†å“å›¾ç‰‡æè¿°ä¼˜åŒ–ä¸ºè‹±æ–‡çš„ AI ç»˜å›¾æç¤ºè¯ï¼Œè¦æ±‚ï¼š
1. æ·»åŠ ä¸“ä¸šçš„äº§å“æ‘„å½±å…³é”®è¯ï¼ˆå¦‚ï¼šprofessional product photography, studio lighting, high detailï¼‰
2. åŒ…å«å…‰çº¿ã€è§’åº¦ã€èƒŒæ™¯æè¿°
3. é£æ ¼ï¼š${(t=w.find(N=>N.value===v.value))==null?void 0:t.label}
4. æ§åˆ¶åœ¨ 100 è¯ä»¥å†…ï¼Œç›´æ¥è¾“å‡ºè‹±æ–‡æç¤ºè¯ï¼Œä¸è¦è§£é‡Š

å•†å“æè¿°ï¼š${s}`}],"ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„äº§å“æ‘„å½±å¸ˆå’Œ AI ç»˜å›¾æç¤ºè¯ä¸“å®¶ã€‚åªè¾“å‡ºä¼˜åŒ–åçš„è‹±æ–‡æç¤ºè¯ã€‚");I.success&&I.content&&(a=I.content)}const l=i.getImageService();console.log("å›¾åƒç”Ÿæˆé…ç½®:",{provider:i.config.image.provider,model:i.config.image.model,baseUrl:i.config.image.baseUrl,hasApiKey:!!i.config.image.apiKey});const d=await l.generateImage(a);let h="";if(d.success&&d.imageUrl)h=d.imageUrl,u.value="";else{const k=d.error||"å›¾ç‰‡ç”Ÿæˆå¤±è´¥ï¼Œè¯·æ£€æŸ¥é…ç½®";u.value=k;return}const B={id:`img-${Date.now()}`,prompt:s,style:v.value,imageUrl:h,createdAt:Date.now()};m.value.unshift(B),j.addContent({type:"social-media",platform:"other",title:s.slice(0,50)+(s.length>50?"...":""),content:`![ç”Ÿæˆçš„å›¾ç‰‡](${h})

**åŸå§‹æè¿°**: ${s}

**é£æ ¼**: ${(o=w.find(k=>k.value===v.value))==null?void 0:o.label}`,params:{prompt:s,optimizedPrompt:a,style:v.value,size:_.value,imageUrl:h}}),b.value=""}catch(l){u.value=l instanceof Error?l.message:"å›¾ç‰‡ç”Ÿæˆå¤±è´¥"}finally{f.value=!1}},V=s=>{b.value=s},D=async(s,a)=>{try{const o=await(await fetch(s)).blob(),l=URL.createObjectURL(o),d=document.createElement("a");d.href=l,d.download=`å•†å“å›¾ç‰‡-${a+1}.png`,d.click(),URL.revokeObjectURL(l)}catch{window.open(s,"_blank")}},M=async s=>{try{await navigator.clipboard.writeText(s),alert("å·²å¤åˆ¶")}catch{alert("å¤åˆ¶å¤±è´¥")}},P=s=>{const a=m.value.findIndex(t=>t.id===s);a>-1&&m.value.splice(a,1)},R=()=>{confirm("ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰ç”Ÿæˆå†å²å—ï¼Ÿ")&&(m.value=[])};return(s,a)=>(r(),n("div",null,[e("div",Y,[e("div",Z,[a[2]||(a[2]=e("h2",{class:"text-xl font-bold text-gray-800 dark:text-gray-200"}," AI å•†å“å›¾ç‰‡ç”Ÿæˆ ",-1)),K(W,{"model-type":"image","show-label":!0,size:"md"})]),e("div",ee,[a[6]||(a[6]=e("h3",{class:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-6"}," å›¾ç‰‡æè¿°ä¸è®¾ç½® ",-1)),e("div",te,[a[3]||(a[3]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," å›¾ç‰‡æè¿° ",-1)),F(e("textarea",{"onUpdate:modelValue":a[0]||(a[0]=t=>b.value=t),rows:"3",placeholder:"æè¿°ä½ æƒ³è¦ç”Ÿæˆçš„å•†å“å›¾ç‰‡ï¼Œä¾‹å¦‚ï¼šä¸€æ¬¾çº¢è‰²å£çº¢ï¼Œé‡‘è‰²åŒ…è£…ï¼Œå¤§ç†çŸ³èƒŒæ™¯ï¼ŒæŸ”å’Œç¯å…‰...",class:"input"},null,512),[[q,b.value]])]),e("div",ae,[a[4]||(a[4]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," å›¾ç‰‡é£æ ¼ ",-1)),e("div",se,[(r(),n(p,null,y(w,t=>e("button",{key:t.value,class:S(["p-3 rounded-xl border-2 text-center transition-all",v.value===t.value?"border-primary-500 bg-primary-50 dark:bg-primary-900/30":"border-gray-200 dark:border-gray-700 hover:border-gray-300"]),onClick:o=>v.value=t.value},[e("span",oe,c(t.icon),1),e("div",re,c(t.label),1)],10,le)),64))])]),e("div",ne,[a[5]||(a[5]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," å›¾ç‰‡å°ºå¯¸ ",-1)),e("div",ie,[(r(),n(p,null,y(A,t=>e("button",{key:t.value,class:S(["px-4 py-2 rounded-lg border-2 text-sm transition-all",_.value===t.value?"border-primary-500 bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400":"border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400 hover:border-gray-300"]),onClick:o=>_.value=t.value},c(t.label),11,de)),64))])]),e("button",{disabled:f.value||!H(i).isImageEnabled,class:"btn-primary w-full py-3",onClick:L},c(f.value?"ğŸ¨ ç”Ÿæˆä¸­...":"ğŸ¨ ç”Ÿæˆå›¾ç‰‡"),9,ce),u.value?(r(),n("div",ue,c(u.value),1)):$("",!0)]),e("div",ge,[a[7]||(a[7]=e("h3",{class:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4"}," ç¤ºä¾‹æç¤ºè¯ ",-1)),e("div",be,[(r(),n(p,null,y(z,t=>e("div",{key:t.category},[e("h4",ve,c(t.category),1),e("div",me,[(r(!0),n(p,null,y(t.prompts,(o,l)=>(r(),n("button",{key:l,class:"px-3 py-1.5 text-sm bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-gray-700 dark:text-gray-300",onClick:d=>V(o)},c(o),9,xe))),128))])])),64))])]),m.value.length>0?(r(),n("div",pe,[e("div",{class:"flex items-center justify-between mb-4"},[a[8]||(a[8]=e("h3",{class:"text-lg font-semibold text-gray-800 dark:text-gray-200"}," ç”Ÿæˆå†å² ",-1)),e("button",{class:"text-sm text-danger-500 hover:text-danger-600",onClick:R}," æ¸…ç©ºå†å² ")]),e("div",ye,[(r(!0),n(p,null,y(m.value,(t,o)=>(r(),n("div",{key:t.id,class:"group relative rounded-xl overflow-hidden border border-gray-200 dark:border-gray-700"},[e("img",{src:t.imageUrl,alt:t.prompt,class:"w-full aspect-square object-cover"},null,8,fe),e("div",he,[e("p",ke,c(t.prompt),1),e("div",_e,[e("button",{class:"flex-1 btn bg-white/20 text-white hover:bg-white/30 text-sm",onClick:l=>E(t)}," ğŸ” æŸ¥çœ‹ ",8,we),e("button",{class:"flex-1 btn bg-white/20 text-white hover:bg-white/30 text-sm",onClick:l=>D(t.imageUrl,o)}," ğŸ“¥ ä¸‹è½½ ",8,Ce),e("button",{class:"flex-1 btn bg-white/20 text-white hover:bg-white/30 text-sm",onClick:l=>M(t.prompt)}," ğŸ“‹ å¤åˆ¶ ",8,Ie),e("button",{class:"btn bg-danger-500/80 text-white hover:bg-danger-600/80 text-sm",onClick:l=>P(t.id)}," ğŸ—‘ï¸ ",8,$e)])])]))),128))])])):$("",!0),a[9]||(a[9]=J('<div class="card bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800" data-v-f1d06d3b><h3 class="text-lg font-semibold text-blue-800 dark:text-blue-300 mb-3" data-v-f1d06d3b> ğŸ“– ä½¿ç”¨è¯´æ˜ </h3><div class="text-sm text-blue-700 dark:text-blue-400 space-y-2" data-v-f1d06d3b><p data-v-f1d06d3b>1. <strong data-v-f1d06d3b>æè¿°å•†å“</strong>ï¼šè¯¦ç»†æè¿°ä½ æƒ³è¦ç”Ÿæˆçš„å•†å“å›¾ç‰‡ï¼ŒåŒ…æ‹¬äº§å“å¤–è§‚ã€èƒŒæ™¯ã€å…‰çº¿ç­‰</p><p data-v-f1d06d3b>2. <strong data-v-f1d06d3b>é€‰æ‹©é£æ ¼</strong>ï¼šæ ¹æ®å•†å“ç±»å‹é€‰æ‹©åˆé€‚çš„æ‹æ‘„é£æ ¼</p><p data-v-f1d06d3b>3. <strong data-v-f1d06d3b>ç”Ÿæˆå›¾ç‰‡</strong>ï¼šAI ä¼šè‡ªåŠ¨ä¼˜åŒ–æç¤ºè¯å¹¶ç”Ÿæˆä¸“ä¸šå•†å“å›¾</p><p data-v-f1d06d3b>4. <strong data-v-f1d06d3b>ä¸‹è½½ä½¿ç”¨</strong>ï¼šç”Ÿæˆçš„å›¾ç‰‡å¯ç›´æ¥ç”¨äºç”µå•†è¯¦æƒ…é¡µ</p></div><div class="mt-4 p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg text-sm text-blue-700 dark:text-blue-400" data-v-f1d06d3b> ğŸ’¡ <strong data-v-f1d06d3b>æç¤º</strong>ï¼šæ­¤åŠŸèƒ½éœ€è¦æ”¯æŒ DALL-E æˆ–ç±»ä¼¼å›¾ç‰‡ç”Ÿæˆ API çš„æ¨¡å‹ã€‚å½“å‰ä½¿ç”¨æ¨¡æ‹Ÿå›¾ç‰‡å±•ç¤ºæ•ˆæœã€‚ </div></div>',1)),C.value&&x.value?(r(),n("div",{key:1,class:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",onClick:U},[e("div",{class:"relative max-w-[90vw] max-h-[90vh]",onClick:a[1]||(a[1]=Q(()=>{},["stop"]))},[e("img",{src:x.value.imageUrl,alt:x.value.prompt,class:"max-w-full max-h-[85vh] object-contain rounded-lg"},null,8,Ue),e("div",Se,[e("p",je,c(x.value.prompt),1)]),e("button",{class:"absolute top-2 right-2 text-white text-2xl bg-black/50 rounded-full w-10 h-10 flex items-center justify-center hover:bg-black/70",onClick:U}," âœ• ")])])):$("",!0)])]))}}),De=X(Ae,[["__scopeId","data-v-f1d06d3b"]]);export{De as default};
