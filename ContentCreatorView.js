var Ke=Object.defineProperty;var Ye=(l,e,t)=>e in l?Ke(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var $=(l,e,t)=>Ye(l,typeof e!="symbol"?e+"":e,t);import{d as et,u as tt,a as lt,q as we,s as rt,o as R,c as T,b as d,f as st,F as J,r as K,h as ve,t as C,g as $e,j as H,v as Y,x as oe,y as nt,i as at,k as it,z as ot,A as ct,p as pt,B as I,l as Se}from"./index.js";import{_ as ut}from"./ModelSelector.vue_vue_type_script_setup_true_lang.js";const ht={"product-title":`你是一位专业的电商运营专家，擅长撰写高转化率的商品标题。
你的任务是帮助商家创作吸引人、SEO友好、符合平台规则的商品标题。
请遵循以下原则：
1. 突出产品核心卖点和优势
2. 包含热门搜索关键词
3. 符合平台字数限制
4. 避免违禁词和夸大宣传
5. 简洁有力，吸引点击`,"product-desc":`你是一位资深的电商文案策划师，擅长撰写打动人心的商品详情页描述。
你的任务是创作能够展示产品价值、解决用户痛点、促进转化的商品描述。
请遵循以下原则：
1. 开头抓住眼球，引发兴趣
2. 详细描述产品特点和优势
3. 使用场景化语言，让用户产生代入感
4. 突出差异化卖点
5. 引导用户下单行动`,"short-video":`你是一位短视频内容策划专家，深谙抖音、快手等平台的爆款内容逻辑。
你的任务是创作能够吸引用户停留、点赞、转发的短视频脚本。
请遵循以下原则：
1. 黄金3秒开头，抓住注意力
2. 内容紧凑，节奏明快
3. 设置悬念和反转
4. 引导互动和关注
5. 符合平台内容规范`,"live-script":`你是一位经验丰富的直播带货顾问，精通各大电商平台直播运营。
你的任务是创作专业的直播话术，帮助主播提升直播间GMV。
请遵循以下原则：
1. 开场暖场，活跃气氛
2. 产品介绍清晰有吸引力
3. 设置合理的价格锚点
4. 促单话术有力，制造紧迫感
5. 互动环节设计巧妙`,"marketing-copy":`你是一位资深营销文案专家，擅长创作各种营销活动的文案。
你的任务是撰写能够吸引目标用户、传达活动价值、促进转化的营销文案。
请遵循以下原则：
1. 标题吸引眼球
2. 突出活动优惠和福利
3. 制造紧迫感和稀缺感
4. 行动指令明确
5. 符合品牌调性`,"customer-service":`你是一位专业的电商客服培训师，熟悉各类客服场景和话术。
你的任务是创作专业的客服回复话术，帮助客服人员高效处理各类问题。
请遵循以下原则：
1. 语气友善专业
2. 快速响应核心问题
3. 提供解决方案而非推诿
4. 适当挽留客户
5. 维护店铺形象`,"social-media":`你是一位社交媒体运营专家，精通小红书、微博、朋友圈等平台的内容运营。
你的任务是创作适合社交平台传播的内容，提升品牌曝光和用户互动。
请遵循以下原则：
1. 内容有共鸣，引发讨论
2. 标题/开头吸引点击
3. 图文结合效果好
4. 善用话题标签
5. 引导互动分享`};function dt(l,e,t){const s={taobao:"淘宝",tmall:"天猫",jd:"京东",pdd:"拼多多",douyin:"抖音",kuaishou:"快手",xiaohongshu:"小红书",weixin:"微信",other:"电商平台"}[t];return{"product-title":(n,i)=>`请为以下商品创作${i}标题：
商品名称：${n.productName||""}
商品类目：${n.category||""}
核心卖点：${n.sellingPoints||""}
目标人群：${n.targetAudience||""}
价格区间：${n.priceRange||""}
其他要求：${n.additionalRequirements||"无"}

请生成3-5个标题供选择，并简要说明每个标题的特点。`,"product-desc":(n,i)=>`请为以下商品创作${i}详情页描述：
商品名称：${n.productName||""}
商品类目：${n.category||""}
核心卖点：${n.sellingPoints||""}
目标人群：${n.targetAudience||""}
价格：${n.price||""}
规格参数：${n.specifications||""}
其他要求：${n.additionalRequirements||"无"}

请创作一份完整的商品详情页文案，包含：商品亮点、详细参数、使用场景、购买理由等部分。`,"short-video":(n,i)=>`请为以下内容创作${i}短视频脚本：
视频主题：${n.topic||""}
产品/服务：${n.product||""}
视频时长：${n.duration||"30-60秒"}
目标效果：${n.objective||"提升品牌曝光"}
风格要求：${n.style||"轻松有趣"}
其他要求：${n.additionalRequirements||"无"}

请创作完整的短视频脚本，包含：
1. 视频标题/封面文案
2. 开头3秒吸睛内容
3. 中间主要内容
4. 结尾引导互动
5. 画面/配乐建议`,"live-script":(n,i)=>`请为以下直播场景创作话术：
直播类型：${n.liveType||"带货直播"}
产品名称：${n.productName||""}
产品价格：${n.price||""}
优惠活动：${n.promotion||""}
话术环节：${n.scene||"产品介绍"}
其他要求：${n.additionalRequirements||"无"}

请创作完整的直播话术，包含开场白、产品介绍、互动话术、促单话术等环节。`,"marketing-copy":(n,i)=>`请为以下营销活动创作文案：
活动类型：${n.activityType||"促销活动"}
活动主题：${n.theme||""}
优惠内容：${n.discount||""}
活动时间：${n.timeRange||""}
目标人群：${n.targetAudience||""}
投放渠道：${n.channel||i}
其他要求：${n.additionalRequirements||"无"}

请创作完整的营销文案，包含标题、正文、行动号召等部分。`,"customer-service":(n,i)=>`请为以下客服场景创作回复话术：
问题类型：${n.issueType||"一般咨询"}
用户问题：${n.userQuestion||""}
商品信息：${n.productInfo||""}
处理原则：${n.principle||"客户至上"}
其他要求：${n.additionalRequirements||"无"}

请创作专业、友善的客服回复话术。`,"social-media":(n,i)=>`请为以下内容创作${i}社媒文案：
内容主题：${n.topic||""}
内容类型：${n.contentType||"图文"}
目标平台：${i}
目标效果：${n.objective||"提升互动"}
其他要求：${n.additionalRequirements||"无"}

请创作适合社交平台传播的内容，包含标题、正文、话题标签等。`}[l](e,s)}function gt(l){return ht[l]}function he(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Q=he();function Ce(l){Q=l}var j={exec:()=>null};function x(l,e=""){let t=typeof l=="string"?l:l.source,s={replace:(r,n)=>{let i=typeof n=="string"?n:n.source;return i=i.replace(z.caret,"$1"),t=t.replace(r,i),s},getRegex:()=>new RegExp(t,e)};return s}var kt=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),z={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:l=>new RegExp(`^( {0,3}${l})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:l=>new RegExp(`^ {0,${Math.min(3,l-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:l=>new RegExp(`^ {0,${Math.min(3,l-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:l=>new RegExp(`^ {0,${Math.min(3,l-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:l=>new RegExp(`^ {0,${Math.min(3,l-1)}}#`),htmlBeginRegex:l=>new RegExp(`^ {0,${Math.min(3,l-1)}}<(?:[a-z].*>|!--)`,"i"),blockquoteBeginRegex:l=>new RegExp(`^ {0,${Math.min(3,l-1)}}>`)},ft=/^(?:[ \t]*(?:\n|$))+/,bt=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,xt=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,W=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,mt=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,de=/ {0,3}(?:[*+-]|\d{1,9}[.)])/,Ie=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Ne=x(Ie).replace(/bull/g,de).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),yt=x(Ie).replace(/bull/g,de).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),ge=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,wt=/^[^\n]+/,ke=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,vt=x(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",ke).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),$t=x(/^(bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,de).getRegex(),ne="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",fe=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,St=x("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",fe).replace("tag",ne).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Le=x(ge).replace("hr",W).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)])[ \\t]").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ne).getRegex(),Rt=x(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Le).getRegex(),be={blockquote:Rt,code:bt,def:vt,fences:xt,heading:mt,hr:W,html:St,lheading:Ne,list:$t,newline:ft,paragraph:Le,table:j,text:wt},Re=x("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",W).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)])[ \\t]").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ne).getRegex(),Tt={...be,lheading:yt,table:Re,paragraph:x(ge).replace("hr",W).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Re).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)])[ \\t]").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ne).getRegex()},_t={...be,html:x(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",fe).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:j,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:x(ge).replace("hr",W).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ne).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},At=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,zt=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Ee=/^( {2,}|\\)\n(?!\s*$)/,Pt=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,ae=/[\p{P}\p{S}]/u,xe=/[\s\p{P}\p{S}]/u,Be=/[^\s\p{P}\p{S}]/u,qt=x(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,xe).getRegex(),Me=/(?!~)[\p{P}\p{S}]/u,Ct=/(?!~)[\s\p{P}\p{S}]/u,It=/(?:[^\s\p{P}\p{S}]|~)/u,De=/(?![*_])[\p{P}\p{S}]/u,Nt=/(?![*_])[\s\p{P}\p{S}]/u,Lt=/(?:[^\s\p{P}\p{S}]|[*_])/u,Et=x(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",kt?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),Ze=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Bt=x(Ze,"u").replace(/punct/g,ae).getRegex(),Mt=x(Ze,"u").replace(/punct/g,Me).getRegex(),je="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Dt=x(je,"gu").replace(/notPunctSpace/g,Be).replace(/punctSpace/g,xe).replace(/punct/g,ae).getRegex(),Zt=x(je,"gu").replace(/notPunctSpace/g,It).replace(/punctSpace/g,Ct).replace(/punct/g,Me).getRegex(),jt=x("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Be).replace(/punctSpace/g,xe).replace(/punct/g,ae).getRegex(),Ot=x(/^~~?(?:((?!~)punct)|[^\s~])/,"u").replace(/punct/g,De).getRegex(),Qt="^[^~]+(?=[^~])|(?!~)punct(~~?)(?=[\\s]|$)|notPunctSpace(~~?)(?!~)(?=punctSpace|$)|(?!~)punctSpace(~~?)(?=notPunctSpace)|[\\s](~~?)(?!~)(?=punct)|(?!~)punct(~~?)(?!~)(?=punct)|notPunctSpace(~~?)(?=notPunctSpace)",Ut=x(Qt,"gu").replace(/notPunctSpace/g,Lt).replace(/punctSpace/g,Nt).replace(/punct/g,De).getRegex(),Vt=x(/\\(punct)/,"gu").replace(/punct/g,ae).getRegex(),Ht=x(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Gt=x(fe).replace("(?:-->|$)","-->").getRegex(),Ft=x("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Gt).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),le=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,Xt=x(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",le).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Oe=x(/^!?\[(label)\]\[(ref)\]/).replace("label",le).replace("ref",ke).getRegex(),Qe=x(/^!?\[(ref)\](?:\[\])?/).replace("ref",ke).getRegex(),Wt=x("reflink|nolink(?!\\()","g").replace("reflink",Oe).replace("nolink",Qe).getRegex(),Te=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,me={_backpedal:j,anyPunctuation:Vt,autolink:Ht,blockSkip:Et,br:Ee,code:zt,del:j,delLDelim:j,delRDelim:j,emStrongLDelim:Bt,emStrongRDelimAst:Dt,emStrongRDelimUnd:jt,escape:At,link:Xt,nolink:Qe,punctuation:qt,reflink:Oe,reflinkSearch:Wt,tag:Ft,text:Pt,url:j},Jt={...me,link:x(/^!?\[(label)\]\((.*?)\)/).replace("label",le).getRegex(),reflink:x(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",le).getRegex()},ce={...me,emStrongRDelimAst:Zt,emStrongLDelim:Mt,delLDelim:Ot,delRDelim:Ut,url:x(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",Te).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:x(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",Te).getRegex()},Kt={...ce,br:x(Ee).replace("{2,}","*").getRegex(),text:x(ce.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ee={normal:be,gfm:Tt,pedantic:_t},G={normal:me,gfm:ce,breaks:Kt,pedantic:Jt},Yt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_e=l=>Yt[l];function B(l,e){if(e){if(z.escapeTest.test(l))return l.replace(z.escapeReplace,_e)}else if(z.escapeTestNoEncode.test(l))return l.replace(z.escapeReplaceNoEncode,_e);return l}function Ae(l){try{l=encodeURI(l).replace(z.percentDecode,"%")}catch{return null}return l}function ze(l,e){var n;let t=l.replace(z.findPipe,(i,a,c)=>{let o=!1,u=a;for(;--u>=0&&c[u]==="\\";)o=!o;return o?"|":" |"}),s=t.split(z.splitPipe),r=0;if(s[0].trim()||s.shift(),s.length>0&&!((n=s.at(-1))!=null&&n.trim())&&s.pop(),e)if(s.length>e)s.splice(e);else for(;s.length<e;)s.push("");for(;r<s.length;r++)s[r]=s[r].trim().replace(z.slashPipe,"|");return s}function F(l,e,t){let s=l.length;if(s===0)return"";let r=0;for(;r<s&&l.charAt(s-r-1)===e;)r++;return l.slice(0,s-r)}function el(l,e){if(l.indexOf(e[1])===-1)return-1;let t=0;for(let s=0;s<l.length;s++)if(l[s]==="\\")s++;else if(l[s]===e[0])t++;else if(l[s]===e[1]&&(t--,t<0))return s;return t>0?-2:-1}function tl(l,e=0){let t=e,s="";for(let r of l)if(r==="	"){let n=4-t%4;s+=" ".repeat(n),t+=n}else s+=r,t++;return s}function Pe(l,e,t,s,r){let n=e.href,i=e.title||null,a=l[1].replace(r.other.outputLinkReplace,"$1");s.state.inLink=!0;let c={type:l[0].charAt(0)==="!"?"image":"link",raw:t,href:n,title:i,text:a,tokens:s.inlineTokens(a)};return s.state.inLink=!1,c}function ll(l,e,t){let s=l.match(t.other.indentCodeCompensation);if(s===null)return e;let r=s[1];return e.split(`
`).map(n=>{let i=n.match(t.other.beginningSpace);if(i===null)return n;let[a]=i;return a.length>=r.length?n.slice(r.length):n}).join(`
`)}var re=class{constructor(l){$(this,"options");$(this,"rules");$(this,"lexer");this.options=l||Q}space(l){let e=this.rules.block.newline.exec(l);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(l){let e=this.rules.block.code.exec(l);if(e){let t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:F(t,`
`)}}}fences(l){let e=this.rules.block.fences.exec(l);if(e){let t=e[0],s=ll(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:s}}}heading(l){let e=this.rules.block.heading.exec(l);if(e){let t=e[2].trim();if(this.rules.other.endingHash.test(t)){let s=F(t,"#");(this.options.pedantic||!s||this.rules.other.endingSpaceChar.test(s))&&(t=s.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(l){let e=this.rules.block.hr.exec(l);if(e)return{type:"hr",raw:F(e[0],`
`)}}blockquote(l){let e=this.rules.block.blockquote.exec(l);if(e){let t=F(e[0],`
`).split(`
`),s="",r="",n=[];for(;t.length>0;){let i=!1,a=[],c;for(c=0;c<t.length;c++)if(this.rules.other.blockquoteStart.test(t[c]))a.push(t[c]),i=!0;else if(!i)a.push(t[c]);else break;t=t.slice(c);let o=a.join(`
`),u=o.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");s=s?`${s}
${o}`:o,r=r?`${r}
${u}`:u;let g=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,n,!0),this.lexer.state.top=g,t.length===0)break;let h=n.at(-1);if((h==null?void 0:h.type)==="code")break;if((h==null?void 0:h.type)==="blockquote"){let p=h,y=p.raw+`
`+t.join(`
`),b=this.blockquote(y);n[n.length-1]=b,s=s.substring(0,s.length-p.raw.length)+b.raw,r=r.substring(0,r.length-p.text.length)+b.text;break}else if((h==null?void 0:h.type)==="list"){let p=h,y=p.raw+`
`+t.join(`
`),b=this.list(y);n[n.length-1]=b,s=s.substring(0,s.length-h.raw.length)+b.raw,r=r.substring(0,r.length-p.raw.length)+b.raw,t=y.substring(n.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:s,tokens:n,text:r}}}list(l){var t,s;let e=this.rules.block.list.exec(l);if(e){let r=e[1].trim(),n=r.length>1,i={type:"list",raw:"",ordered:n,start:n?+r.slice(0,-1):"",loose:!1,items:[]};r=n?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=n?r:"[*+-]");let a=this.rules.other.listItemRegex(r),c=!1;for(;l;){let u=!1,g="",h="";if(!(e=a.exec(l))||this.rules.block.hr.test(l))break;g=e[0],l=l.substring(g.length);let p=tl(e[2].split(`
`,1)[0],e[1].length),y=l.split(`
`,1)[0],b=!p.trim(),w=0;if(this.options.pedantic?(w=2,h=p.trimStart()):b?w=e[1].length+1:(w=p.search(this.rules.other.nonSpaceChar),w=w>4?1:w,h=p.slice(w),w+=e[1].length),b&&this.rules.other.blankLine.test(y)&&(g+=y+`
`,l=l.substring(y.length+1),u=!0),!u){let P=this.rules.other.nextBulletRegex(w),S=this.rules.other.hrRegex(w),q=this.rules.other.fencesBeginRegex(w),M=this.rules.other.headingBeginRegex(w),D=this.rules.other.htmlBeginRegex(w),U=this.rules.other.blockquoteBeginRegex(w);for(;l;){let Z=l.split(`
`,1)[0],E;if(y=Z,this.options.pedantic?(y=y.replace(this.rules.other.listReplaceNesting,"  "),E=y):E=y.replace(this.rules.other.tabCharGlobal,"    "),q.test(y)||M.test(y)||D.test(y)||U.test(y)||P.test(y)||S.test(y))break;if(E.search(this.rules.other.nonSpaceChar)>=w||!y.trim())h+=`
`+E.slice(w);else{if(b||p.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||q.test(p)||M.test(p)||S.test(p))break;h+=`
`+y}b=!y.trim(),g+=Z+`
`,l=l.substring(Z.length+1),p=E.slice(w)}}i.loose||(c?i.loose=!0:this.rules.other.doubleBlankLine.test(g)&&(c=!0)),i.items.push({type:"list_item",raw:g,task:!!this.options.gfm&&this.rules.other.listIsTask.test(h),loose:!1,text:h,tokens:[]}),i.raw+=g}let o=i.items.at(-1);if(o)o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let u of i.items){if(this.lexer.state.top=!1,u.tokens=this.lexer.blockTokens(u.text,[]),u.task){if(u.text=u.text.replace(this.rules.other.listReplaceTask,""),((t=u.tokens[0])==null?void 0:t.type)==="text"||((s=u.tokens[0])==null?void 0:s.type)==="paragraph"){u.tokens[0].raw=u.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),u.tokens[0].text=u.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let h=this.lexer.inlineQueue.length-1;h>=0;h--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[h].src)){this.lexer.inlineQueue[h].src=this.lexer.inlineQueue[h].src.replace(this.rules.other.listReplaceTask,"");break}}let g=this.rules.other.listTaskCheckbox.exec(u.raw);if(g){let h={type:"checkbox",raw:g[0]+" ",checked:g[0]!=="[ ]"};u.checked=h.checked,i.loose?u.tokens[0]&&["paragraph","text"].includes(u.tokens[0].type)&&"tokens"in u.tokens[0]&&u.tokens[0].tokens?(u.tokens[0].raw=h.raw+u.tokens[0].raw,u.tokens[0].text=h.raw+u.tokens[0].text,u.tokens[0].tokens.unshift(h)):u.tokens.unshift({type:"paragraph",raw:h.raw,text:h.raw,tokens:[h]}):u.tokens.unshift(h)}}if(!i.loose){let g=u.tokens.filter(p=>p.type==="space"),h=g.length>0&&g.some(p=>this.rules.other.anyLine.test(p.raw));i.loose=h}}if(i.loose)for(let u of i.items){u.loose=!0;for(let g of u.tokens)g.type==="text"&&(g.type="paragraph")}return i}}html(l){let e=this.rules.block.html.exec(l);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(l){let e=this.rules.block.def.exec(l);if(e){let t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),s=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:s,title:r}}}table(l){var i;let e=this.rules.block.table.exec(l);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let t=ze(e[1]),s=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),r=(i=e[3])!=null&&i.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],n={type:"table",raw:e[0],header:[],align:[],rows:[]};if(t.length===s.length){for(let a of s)this.rules.other.tableAlignRight.test(a)?n.align.push("right"):this.rules.other.tableAlignCenter.test(a)?n.align.push("center"):this.rules.other.tableAlignLeft.test(a)?n.align.push("left"):n.align.push(null);for(let a=0;a<t.length;a++)n.header.push({text:t[a],tokens:this.lexer.inline(t[a]),header:!0,align:n.align[a]});for(let a of r)n.rows.push(ze(a,n.header.length).map((c,o)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:n.align[o]})));return n}}lheading(l){let e=this.rules.block.lheading.exec(l);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(l){let e=this.rules.block.paragraph.exec(l);if(e){let t=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(l){let e=this.rules.block.text.exec(l);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(l){let e=this.rules.inline.escape.exec(l);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(l){let e=this.rules.inline.tag.exec(l);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(l){let e=this.rules.inline.link.exec(l);if(e){let t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;let n=F(t.slice(0,-1),"\\");if((t.length-n.length)%2===0)return}else{let n=el(e[2],"()");if(n===-2)return;if(n>-1){let i=(e[0].indexOf("!")===0?5:4)+e[1].length+n;e[2]=e[2].substring(0,n),e[0]=e[0].substring(0,i).trim(),e[3]=""}}let s=e[2],r="";if(this.options.pedantic){let n=this.rules.other.pedanticHrefTitle.exec(s);n&&(s=n[1],r=n[3])}else r=e[3]?e[3].slice(1,-1):"";return s=s.trim(),this.rules.other.startAngleBracket.test(s)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?s=s.slice(1):s=s.slice(1,-1)),Pe(e,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:r&&r.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(l,e){let t;if((t=this.rules.inline.reflink.exec(l))||(t=this.rules.inline.nolink.exec(l))){let s=(t[2]||t[1]).replace(this.rules.other.multipleSpaceGlobal," "),r=e[s.toLowerCase()];if(!r){let n=t[0].charAt(0);return{type:"text",raw:n,text:n}}return Pe(t,r,t[0],this.lexer,this.rules)}}emStrong(l,e,t=""){let s=this.rules.inline.emStrongLDelim.exec(l);if(!(!s||s[3]&&t.match(this.rules.other.unicodeAlphaNumeric))&&(!(s[1]||s[2])||!t||this.rules.inline.punctuation.exec(t))){let r=[...s[0]].length-1,n,i,a=r,c=0,o=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(o.lastIndex=0,e=e.slice(-1*l.length+r);(s=o.exec(e))!=null;){if(n=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!n)continue;if(i=[...n].length,s[3]||s[4]){a+=i;continue}else if((s[5]||s[6])&&r%3&&!((r+i)%3)){c+=i;continue}if(a-=i,a>0)continue;i=Math.min(i,i+a+c);let u=[...s[0]][0].length,g=l.slice(0,r+s.index+u+i);if(Math.min(r,i)%2){let p=g.slice(1,-1);return{type:"em",raw:g,text:p,tokens:this.lexer.inlineTokens(p)}}let h=g.slice(2,-2);return{type:"strong",raw:g,text:h,tokens:this.lexer.inlineTokens(h)}}}}codespan(l){let e=this.rules.inline.code.exec(l);if(e){let t=e[2].replace(this.rules.other.newLineCharGlobal," "),s=this.rules.other.nonSpaceChar.test(t),r=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return s&&r&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}br(l){let e=this.rules.inline.br.exec(l);if(e)return{type:"br",raw:e[0]}}del(l,e,t=""){let s=this.rules.inline.delLDelim.exec(l);if(s&&(!s[1]||!t||this.rules.inline.punctuation.exec(t))){let r=[...s[0]].length-1,n,i,a=r,c=this.rules.inline.delRDelim;for(c.lastIndex=0,e=e.slice(-1*l.length+r);(s=c.exec(e))!=null;){if(n=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!n||(i=[...n].length,i!==r))continue;if(s[3]||s[4]){a+=i;continue}if(a-=i,a>0)continue;i=Math.min(i,i+a);let o=[...s[0]][0].length,u=l.slice(0,r+s.index+o+i),g=u.slice(r,-r);return{type:"del",raw:u,text:g,tokens:this.lexer.inlineTokens(g)}}}}autolink(l){let e=this.rules.inline.autolink.exec(l);if(e){let t,s;return e[2]==="@"?(t=e[1],s="mailto:"+t):(t=e[1],s=t),{type:"link",raw:e[0],text:t,href:s,tokens:[{type:"text",raw:t,text:t}]}}}url(l){var t;let e;if(e=this.rules.inline.url.exec(l)){let s,r;if(e[2]==="@")s=e[0],r="mailto:"+s;else{let n;do n=e[0],e[0]=((t=this.rules.inline._backpedal.exec(e[0]))==null?void 0:t[0])??"";while(n!==e[0]);s=e[0],e[1]==="www."?r="http://"+e[0]:r=e[0]}return{type:"link",raw:e[0],text:s,href:r,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(l){let e=this.rules.inline.text.exec(l);if(e){let t=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:t}}}},N=class pe{constructor(e){$(this,"tokens");$(this,"options");$(this,"state");$(this,"inlineQueue");$(this,"tokenizer");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Q,this.options.tokenizer=this.options.tokenizer||new re,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:z,block:ee.normal,inline:G.normal};this.options.pedantic?(t.block=ee.pedantic,t.inline=G.pedantic):this.options.gfm&&(t.block=ee.gfm,this.options.breaks?t.inline=G.breaks:t.inline=G.gfm),this.tokenizer.rules=t}static get rules(){return{block:ee,inline:G}}static lex(e,t){return new pe(t).lex(e)}static lexInline(e,t){return new pe(t).inlineTokens(e)}lex(e){e=e.replace(z.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let s=this.inlineQueue[t];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],s=!1){var r,n,i;for(this.options.pedantic&&(e=e.replace(z.tabCharGlobal,"    ").replace(z.spaceLine,""));e;){let a;if((n=(r=this.options.extensions)==null?void 0:r.block)!=null&&n.some(o=>(a=o.call({lexer:this},e,t))?(e=e.substring(a.raw.length),t.push(a),!0):!1))continue;if(a=this.tokenizer.space(e)){e=e.substring(a.raw.length);let o=t.at(-1);a.raw.length===1&&o!==void 0?o.raw+=`
`:t.push(a);continue}if(a=this.tokenizer.code(e)){e=e.substring(a.raw.length);let o=t.at(-1);(o==null?void 0:o.type)==="paragraph"||(o==null?void 0:o.type)==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+a.raw,o.text+=`
`+a.text,this.inlineQueue.at(-1).src=o.text):t.push(a);continue}if(a=this.tokenizer.fences(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.heading(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.hr(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.blockquote(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.list(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.html(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.def(e)){e=e.substring(a.raw.length);let o=t.at(-1);(o==null?void 0:o.type)==="paragraph"||(o==null?void 0:o.type)==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+a.raw,o.text+=`
`+a.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title},t.push(a));continue}if(a=this.tokenizer.table(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.lheading(e)){e=e.substring(a.raw.length),t.push(a);continue}let c=e;if((i=this.options.extensions)!=null&&i.startBlock){let o=1/0,u=e.slice(1),g;this.options.extensions.startBlock.forEach(h=>{g=h.call({lexer:this},u),typeof g=="number"&&g>=0&&(o=Math.min(o,g))}),o<1/0&&o>=0&&(c=e.substring(0,o+1))}if(this.state.top&&(a=this.tokenizer.paragraph(c))){let o=t.at(-1);s&&(o==null?void 0:o.type)==="paragraph"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+a.raw,o.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):t.push(a),s=c.length!==e.length,e=e.substring(a.raw.length);continue}if(a=this.tokenizer.text(e)){e=e.substring(a.raw.length);let o=t.at(-1);(o==null?void 0:o.type)==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+a.raw,o.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):t.push(a);continue}if(e){let o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){var c,o,u,g,h;let s=e,r=null;if(this.tokens.links){let p=Object.keys(this.tokens.links);if(p.length>0)for(;(r=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)p.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(r=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,r.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let n;for(;(r=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)n=r[2]?r[2].length:0,s=s.slice(0,r.index+n)+"["+"a".repeat(r[0].length-n-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);s=((o=(c=this.options.hooks)==null?void 0:c.emStrongMask)==null?void 0:o.call({lexer:this},s))??s;let i=!1,a="";for(;e;){i||(a=""),i=!1;let p;if((g=(u=this.options.extensions)==null?void 0:u.inline)!=null&&g.some(b=>(p=b.call({lexer:this},e,t))?(e=e.substring(p.raw.length),t.push(p),!0):!1))continue;if(p=this.tokenizer.escape(e)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.tag(e)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.link(e)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(p.raw.length);let b=t.at(-1);p.type==="text"&&(b==null?void 0:b.type)==="text"?(b.raw+=p.raw,b.text+=p.text):t.push(p);continue}if(p=this.tokenizer.emStrong(e,s,a)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.codespan(e)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.br(e)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.del(e,s,a)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.autolink(e)){e=e.substring(p.raw.length),t.push(p);continue}if(!this.state.inLink&&(p=this.tokenizer.url(e))){e=e.substring(p.raw.length),t.push(p);continue}let y=e;if((h=this.options.extensions)!=null&&h.startInline){let b=1/0,w=e.slice(1),P;this.options.extensions.startInline.forEach(S=>{P=S.call({lexer:this},w),typeof P=="number"&&P>=0&&(b=Math.min(b,P))}),b<1/0&&b>=0&&(y=e.substring(0,b+1))}if(p=this.tokenizer.inlineText(y)){e=e.substring(p.raw.length),p.raw.slice(-1)!=="_"&&(a=p.raw.slice(-1)),i=!0;let b=t.at(-1);(b==null?void 0:b.type)==="text"?(b.raw+=p.raw,b.text+=p.text):t.push(p);continue}if(e){let b="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(b);break}else throw new Error(b)}}return t}},se=class{constructor(l){$(this,"options");$(this,"parser");this.options=l||Q}space(l){return""}code({text:l,lang:e,escaped:t}){var n;let s=(n=(e||"").match(z.notSpaceStart))==null?void 0:n[0],r=l.replace(z.endingNewline,"")+`
`;return s?'<pre><code class="language-'+B(s)+'">'+(t?r:B(r,!0))+`</code></pre>
`:"<pre><code>"+(t?r:B(r,!0))+`</code></pre>
`}blockquote({tokens:l}){return`<blockquote>
${this.parser.parse(l)}</blockquote>
`}html({text:l}){return l}def(l){return""}heading({tokens:l,depth:e}){return`<h${e}>${this.parser.parseInline(l)}</h${e}>
`}hr(l){return`<hr>
`}list(l){let e=l.ordered,t=l.start,s="";for(let i=0;i<l.items.length;i++){let a=l.items[i];s+=this.listitem(a)}let r=e?"ol":"ul",n=e&&t!==1?' start="'+t+'"':"";return"<"+r+n+`>
`+s+"</"+r+`>
`}listitem(l){return`<li>${this.parser.parse(l.tokens)}</li>
`}checkbox({checked:l}){return"<input "+(l?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:l}){return`<p>${this.parser.parseInline(l)}</p>
`}table(l){let e="",t="";for(let r=0;r<l.header.length;r++)t+=this.tablecell(l.header[r]);e+=this.tablerow({text:t});let s="";for(let r=0;r<l.rows.length;r++){let n=l.rows[r];t="";for(let i=0;i<n.length;i++)t+=this.tablecell(n[i]);s+=this.tablerow({text:t})}return s&&(s=`<tbody>${s}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+s+`</table>
`}tablerow({text:l}){return`<tr>
${l}</tr>
`}tablecell(l){let e=this.parser.parseInline(l.tokens),t=l.header?"th":"td";return(l.align?`<${t} align="${l.align}">`:`<${t}>`)+e+`</${t}>
`}strong({tokens:l}){return`<strong>${this.parser.parseInline(l)}</strong>`}em({tokens:l}){return`<em>${this.parser.parseInline(l)}</em>`}codespan({text:l}){return`<code>${B(l,!0)}</code>`}br(l){return"<br>"}del({tokens:l}){return`<del>${this.parser.parseInline(l)}</del>`}link({href:l,title:e,tokens:t}){let s=this.parser.parseInline(t),r=Ae(l);if(r===null)return s;l=r;let n='<a href="'+l+'"';return e&&(n+=' title="'+B(e)+'"'),n+=">"+s+"</a>",n}image({href:l,title:e,text:t,tokens:s}){s&&(t=this.parser.parseInline(s,this.parser.textRenderer));let r=Ae(l);if(r===null)return B(t);l=r;let n=`<img src="${l}" alt="${B(t)}"`;return e&&(n+=` title="${B(e)}"`),n+=">",n}text(l){return"tokens"in l&&l.tokens?this.parser.parseInline(l.tokens):"escaped"in l&&l.escaped?l.text:B(l.text)}},ye=class{strong({text:l}){return l}em({text:l}){return l}codespan({text:l}){return l}del({text:l}){return l}html({text:l}){return l}text({text:l}){return l}link({text:l}){return""+l}image({text:l}){return""+l}br(){return""}checkbox({raw:l}){return l}},L=class ue{constructor(e){$(this,"options");$(this,"renderer");$(this,"textRenderer");this.options=e||Q,this.options.renderer=this.options.renderer||new se,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new ye}static parse(e,t){return new ue(t).parse(e)}static parseInline(e,t){return new ue(t).parseInline(e)}parse(e){var s,r;let t="";for(let n=0;n<e.length;n++){let i=e[n];if((r=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&r[i.type]){let c=i,o=this.options.extensions.renderers[c.type].call({parser:this},c);if(o!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(c.type)){t+=o||"";continue}}let a=i;switch(a.type){case"space":{t+=this.renderer.space(a);break}case"hr":{t+=this.renderer.hr(a);break}case"heading":{t+=this.renderer.heading(a);break}case"code":{t+=this.renderer.code(a);break}case"table":{t+=this.renderer.table(a);break}case"blockquote":{t+=this.renderer.blockquote(a);break}case"list":{t+=this.renderer.list(a);break}case"checkbox":{t+=this.renderer.checkbox(a);break}case"html":{t+=this.renderer.html(a);break}case"def":{t+=this.renderer.def(a);break}case"paragraph":{t+=this.renderer.paragraph(a);break}case"text":{t+=this.renderer.text(a);break}default:{let c='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return t}parseInline(e,t=this.renderer){var r,n;let s="";for(let i=0;i<e.length;i++){let a=e[i];if((n=(r=this.options.extensions)==null?void 0:r.renderers)!=null&&n[a.type]){let o=this.options.extensions.renderers[a.type].call({parser:this},a);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){s+=o||"";continue}}let c=a;switch(c.type){case"escape":{s+=t.text(c);break}case"html":{s+=t.html(c);break}case"link":{s+=t.link(c);break}case"image":{s+=t.image(c);break}case"checkbox":{s+=t.checkbox(c);break}case"strong":{s+=t.strong(c);break}case"em":{s+=t.em(c);break}case"codespan":{s+=t.codespan(c);break}case"br":{s+=t.br(c);break}case"del":{s+=t.del(c);break}case"text":{s+=t.text(c);break}default:{let o='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return s}},te,X=(te=class{constructor(l){$(this,"options");$(this,"block");this.options=l||Q}preprocess(l){return l}postprocess(l){return l}processAllTokens(l){return l}emStrongMask(l){return l}provideLexer(){return this.block?N.lex:N.lexInline}provideParser(){return this.block?L.parse:L.parseInline}},$(te,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),$(te,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),te),rl=class{constructor(...l){$(this,"defaults",he());$(this,"options",this.setOptions);$(this,"parse",this.parseMarkdown(!0));$(this,"parseInline",this.parseMarkdown(!1));$(this,"Parser",L);$(this,"Renderer",se);$(this,"TextRenderer",ye);$(this,"Lexer",N);$(this,"Tokenizer",re);$(this,"Hooks",X);this.use(...l)}walkTokens(l,e){var s,r;let t=[];for(let n of l)switch(t=t.concat(e.call(this,n)),n.type){case"table":{let i=n;for(let a of i.header)t=t.concat(this.walkTokens(a.tokens,e));for(let a of i.rows)for(let c of a)t=t.concat(this.walkTokens(c.tokens,e));break}case"list":{let i=n;t=t.concat(this.walkTokens(i.items,e));break}default:{let i=n;(r=(s=this.defaults.extensions)==null?void 0:s.childTokens)!=null&&r[i.type]?this.defaults.extensions.childTokens[i.type].forEach(a=>{let c=i[a].flat(1/0);t=t.concat(this.walkTokens(c,e))}):i.tokens&&(t=t.concat(this.walkTokens(i.tokens,e)))}}return t}use(...l){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return l.forEach(t=>{let s={...t};if(s.async=this.defaults.async||s.async||!1,t.extensions&&(t.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if("renderer"in r){let n=e.renderers[r.name];n?e.renderers[r.name]=function(...i){let a=r.renderer.apply(this,i);return a===!1&&(a=n.apply(this,i)),a}:e.renderers[r.name]=r.renderer}if("tokenizer"in r){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let n=e[r.level];n?n.unshift(r.tokenizer):e[r.level]=[r.tokenizer],r.start&&(r.level==="block"?e.startBlock?e.startBlock.push(r.start):e.startBlock=[r.start]:r.level==="inline"&&(e.startInline?e.startInline.push(r.start):e.startInline=[r.start]))}"childTokens"in r&&r.childTokens&&(e.childTokens[r.name]=r.childTokens)}),s.extensions=e),t.renderer){let r=this.defaults.renderer||new se(this.defaults);for(let n in t.renderer){if(!(n in r))throw new Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;let i=n,a=t.renderer[i],c=r[i];r[i]=(...o)=>{let u=a.apply(r,o);return u===!1&&(u=c.apply(r,o)),u||""}}s.renderer=r}if(t.tokenizer){let r=this.defaults.tokenizer||new re(this.defaults);for(let n in t.tokenizer){if(!(n in r))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;let i=n,a=t.tokenizer[i],c=r[i];r[i]=(...o)=>{let u=a.apply(r,o);return u===!1&&(u=c.apply(r,o)),u}}s.tokenizer=r}if(t.hooks){let r=this.defaults.hooks||new X;for(let n in t.hooks){if(!(n in r))throw new Error(`hook '${n}' does not exist`);if(["options","block"].includes(n))continue;let i=n,a=t.hooks[i],c=r[i];X.passThroughHooks.has(n)?r[i]=o=>{if(this.defaults.async&&X.passThroughHooksRespectAsync.has(n))return(async()=>{let g=await a.call(r,o);return c.call(r,g)})();let u=a.call(r,o);return c.call(r,u)}:r[i]=(...o)=>{if(this.defaults.async)return(async()=>{let g=await a.apply(r,o);return g===!1&&(g=await c.apply(r,o)),g})();let u=a.apply(r,o);return u===!1&&(u=c.apply(r,o)),u}}s.hooks=r}if(t.walkTokens){let r=this.defaults.walkTokens,n=t.walkTokens;s.walkTokens=function(i){let a=[];return a.push(n.call(this,i)),r&&(a=a.concat(r.call(this,i))),a}}this.defaults={...this.defaults,...s}}),this}setOptions(l){return this.defaults={...this.defaults,...l},this}lexer(l,e){return N.lex(l,e??this.defaults)}parser(l,e){return L.parse(l,e??this.defaults)}parseMarkdown(l){return(e,t)=>{let s={...t},r={...this.defaults,...s},n=this.onError(!!r.silent,!!r.async);if(this.defaults.async===!0&&s.async===!1)return n(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return n(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return n(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(r.hooks&&(r.hooks.options=r,r.hooks.block=l),r.async)return(async()=>{let i=r.hooks?await r.hooks.preprocess(e):e,a=await(r.hooks?await r.hooks.provideLexer():l?N.lex:N.lexInline)(i,r),c=r.hooks?await r.hooks.processAllTokens(a):a;r.walkTokens&&await Promise.all(this.walkTokens(c,r.walkTokens));let o=await(r.hooks?await r.hooks.provideParser():l?L.parse:L.parseInline)(c,r);return r.hooks?await r.hooks.postprocess(o):o})().catch(n);try{r.hooks&&(e=r.hooks.preprocess(e));let i=(r.hooks?r.hooks.provideLexer():l?N.lex:N.lexInline)(e,r);r.hooks&&(i=r.hooks.processAllTokens(i)),r.walkTokens&&this.walkTokens(i,r.walkTokens);let a=(r.hooks?r.hooks.provideParser():l?L.parse:L.parseInline)(i,r);return r.hooks&&(a=r.hooks.postprocess(a)),a}catch(i){return n(i)}}}onError(l,e){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,l){let s="<p>An error occurred:</p><pre>"+B(t.message+"",!0)+"</pre>";return e?Promise.resolve(s):s}if(e)return Promise.reject(t);throw t}}},O=new rl;function v(l,e){return O.parse(l,e)}v.options=v.setOptions=function(l){return O.setOptions(l),v.defaults=O.defaults,Ce(v.defaults),v};v.getDefaults=he;v.defaults=Q;v.use=function(...l){return O.use(...l),v.defaults=O.defaults,Ce(v.defaults),v};v.walkTokens=function(l,e){return O.walkTokens(l,e)};v.parseInline=O.parseInline;v.Parser=L;v.parser=L.parse;v.Renderer=se;v.TextRenderer=ye;v.Lexer=N;v.lexer=N.lex;v.Tokenizer=re;v.Hooks=X;v.parse=v;v.options;v.setOptions;v.use;v.walkTokens;v.parseInline;L.parse;N.lex;const sl={class:"max-w-6xl mx-auto"},nl={class:"flex items-center justify-between mb-6"},al={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},il={class:"space-y-6"},ol={class:"card"},cl={class:"grid grid-cols-2 sm:grid-cols-3 gap-2"},pl=["onClick"],ul={class:"text-xl"},hl={class:"mt-1 font-medium text-sm"},dl={class:"card"},gl={class:"flex flex-wrap gap-2"},kl=["onClick"],fl={class:"card"},bl={class:"space-y-4"},xl={class:"block text-sm font-medium text-gray-700 mb-1"},ml={key:0,class:"text-danger-500"},yl=["onUpdate:modelValue","placeholder"],wl=["onUpdate:modelValue","placeholder","rows"],vl=["onUpdate:modelValue"],$l=["value"],Sl={class:"flex gap-3"},Rl=["disabled"],Tl={key:0,class:"animate-spin mr-2"},_l={key:1,class:"mr-2"},Al={key:0,class:"bg-danger-50 text-danger-700 p-4 rounded-lg"},zl={class:"card min-h-[500px] flex flex-col"},Pl={class:"flex items-center justify-between mb-4"},ql={class:"flex-1 overflow-auto"},Cl={key:0,class:"flex items-center justify-center h-full"},Il=["innerHTML"],Nl={key:2,class:"flex items-center justify-center h-full text-gray-500 dark:text-gray-400"},Ll={class:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-md"},El={class:"p-6 space-y-4"},Bl={class:"text-sm text-gray-500 dark:text-gray-400"},Ml={class:"mt-2 list-disc list-inside"},Dl={class:"p-6 border-t border-gray-200 dark:border-gray-700 flex gap-3"},qe="user-templates",Ql=et({__name:"ContentCreatorView",setup(l){const e=ct(),t=pt(),s=tt(),r=lt(),n=I([]),i=()=>{try{const m=localStorage.getItem(qe);m&&(n.value=JSON.parse(m))}catch(m){console.error("加载用户模板失败:",m)}},a=m=>{n.value.unshift(m),localStorage.setItem(qe,JSON.stringify(n.value))},c=I(!1),o=I(""),u=()=>{o.value="",c.value=!0},g=()=>{if(!o.value.trim()){alert("请输入模板名称");return}const m={id:`user-${Date.now()}`,name:o.value.trim(),contentType:w.value,platform:P.value,fields:{...S.value},createdAt:Date.now()};a(m),c.value=!1,alert("模板保存成功！")},h=I(""),p=m=>{U.value=!0,w.value=m.contentType,P.value=m.platform,setTimeout(()=>{E(),S.value={...S.value,...m.fields},m.prompt&&(h.value=m.prompt),U.value=!1},100)};we(()=>{i();const m=e.query.templateData;if(m)try{const f=JSON.parse(decodeURIComponent(m));p(f),t.replace({path:e.path})}catch(f){console.error("解析模板数据失败:",f)}});const y=[{type:"product-title",name:"商品标题",description:"生成吸引人的商品标题，优化搜索排名",icon:"🏷️",template:"",fields:[{key:"productName",label:"商品名称",type:"text",placeholder:"如：无线蓝牙耳机",required:!0},{key:"category",label:"商品类目",type:"text",placeholder:"如：数码配件/耳机"},{key:"sellingPoints",label:"核心卖点",type:"textarea",placeholder:"如：降噪、续航长、音质好",rows:2},{key:"targetAudience",label:"目标人群",type:"text",placeholder:"如：年轻上班族、学生"},{key:"priceRange",label:"价格区间",type:"text",placeholder:"如：100-300元"},{key:"additionalRequirements",label:"其他要求",type:"textarea",placeholder:"其他特殊要求",rows:2}]},{type:"product-desc",name:"商品描述",description:"创作详情页文案，提升转化率",icon:"📋",template:"",fields:[{key:"productName",label:"商品名称",type:"text",placeholder:"如：无线蓝牙耳机",required:!0},{key:"category",label:"商品类目",type:"text",placeholder:"如：数码配件/耳机"},{key:"sellingPoints",label:"核心卖点",type:"textarea",placeholder:"详细描述产品特点",rows:3},{key:"targetAudience",label:"目标人群",type:"text",placeholder:"如：年轻上班族"},{key:"price",label:"商品价格",type:"text",placeholder:"如：199元"},{key:"specifications",label:"规格参数",type:"textarea",placeholder:"如：颜色、尺寸、材质等",rows:2},{key:"additionalRequirements",label:"其他要求",type:"textarea",placeholder:"其他特殊要求",rows:2}]},{type:"short-video",name:"短视频脚本",description:"创作抖音/快手爆款视频脚本",icon:"🎬",template:"",fields:[{key:"topic",label:"视频主题",type:"text",placeholder:"如：产品开箱、使用教程",required:!0},{key:"product",label:"产品/服务",type:"text",placeholder:"要推广的产品或服务"},{key:"duration",label:"视频时长",type:"select",options:[{label:"15-30秒",value:"15-30秒"},{label:"30-60秒",value:"30-60秒"},{label:"1-3分钟",value:"1-3分钟"},{label:"3分钟以上",value:"3分钟以上"}]},{key:"objective",label:"目标效果",type:"select",options:[{label:"提升品牌曝光",value:"提升品牌曝光"},{label:"产品种草",value:"产品种草"},{label:"引导购买",value:"引导购买"},{label:"粉丝互动",value:"粉丝互动"}]},{key:"style",label:"风格要求",type:"select",options:[{label:"轻松有趣",value:"轻松有趣"},{label:"专业科普",value:"专业科普"},{label:"情感共鸣",value:"情感共鸣"},{label:"快节奏爽文",value:"快节奏爽文"}]},{key:"additionalRequirements",label:"其他要求",type:"textarea",placeholder:"其他特殊要求",rows:2}]},{type:"live-script",name:"直播话术",description:"专业的直播带货话术生成",icon:"🎤",template:"",fields:[{key:"productName",label:"产品名称",type:"text",placeholder:"要直播销售的产品",required:!0},{key:"liveType",label:"直播类型",type:"select",options:[{label:"新品首发",value:"新品首发"},{label:"日常带货",value:"日常带货"},{label:"专场活动",value:"专场活动"},{label:"清仓特卖",value:"清仓特卖"}]},{key:"price",label:"产品价格",type:"text",placeholder:"如：原价299，直播价199"},{key:"promotion",label:"优惠活动",type:"text",placeholder:"如：买一送一、限时折扣"},{key:"scene",label:"话术环节",type:"select",options:[{label:"开场暖场",value:"开场暖场"},{label:"产品介绍",value:"产品介绍"},{label:"互动答疑",value:"互动答疑"},{label:"促单逼单",value:"促单逼单"},{label:"完整话术",value:"完整话术"}]},{key:"additionalRequirements",label:"其他要求",type:"textarea",placeholder:"其他特殊要求",rows:2}]},{type:"marketing-copy",name:"营销文案",description:"活动促销、节日营销文案",icon:"📢",template:"",fields:[{key:"activityType",label:"活动类型",type:"select",options:[{label:"限时折扣",value:"限时折扣"},{label:"满减优惠",value:"满减优惠"},{label:"节日营销",value:"节日营销"},{label:"新品上市",value:"新品上市"},{label:"会员专享",value:"会员专享"}]},{key:"theme",label:"活动主题",type:"text",placeholder:"如：双十一狂欢节",required:!0},{key:"discount",label:"优惠内容",type:"textarea",placeholder:"详细描述优惠活动内容",rows:2},{key:"timeRange",label:"活动时间",type:"text",placeholder:"如：11月1日-11月11日"},{key:"targetAudience",label:"目标人群",type:"text",placeholder:"如：新老客户"},{key:"channel",label:"投放渠道",type:"select",options:[{label:"朋友圈",value:"朋友圈"},{label:"社群",value:"社群"},{label:"短信",value:"短信"},{label:"公众号",value:"公众号"},{label:"小红书",value:"小红书"}]},{key:"additionalRequirements",label:"其他要求",type:"textarea",placeholder:"其他特殊要求",rows:2}]},{type:"customer-service",name:"客服话术",description:"专业的客服回复话术",icon:"💬",template:"",fields:[{key:"issueType",label:"问题类型",type:"select",options:[{label:"售前咨询",value:"售前咨询"},{label:"物流查询",value:"物流查询"},{label:"售后退换",value:"售后退换"},{label:"投诉处理",value:"投诉处理"},{label:"催付挽留",value:"催付挽留"}]},{key:"userQuestion",label:"用户问题",type:"textarea",placeholder:"用户的具体问题或诉求",rows:2,required:!0},{key:"productInfo",label:"商品信息",type:"text",placeholder:"相关商品信息"},{key:"principle",label:"处理原则",type:"select",options:[{label:"客户至上",value:"客户至上"},{label:"坚持规则",value:"坚持规则"},{label:"灵活处理",value:"灵活处理"}]},{key:"additionalRequirements",label:"其他要求",type:"textarea",placeholder:"其他特殊要求",rows:2}]},{type:"social-media",name:"社媒文案",description:"小红书、朋友圈、社群文案",icon:"📱",template:"",fields:[{key:"topic",label:"内容主题",type:"text",placeholder:"如：好物分享、使用心得",required:!0},{key:"contentType",label:"内容类型",type:"select",options:[{label:"图文种草",value:"图文种草"},{label:"产品测评",value:"产品测评"},{label:"使用教程",value:"使用教程"},{label:"晒单分享",value:"晒单分享"},{label:"品牌故事",value:"品牌故事"}]},{key:"product",label:"产品/品牌",type:"text",placeholder:"要推广的产品或品牌"},{key:"tone",label:"语气风格",type:"select",options:[{label:"亲切真实",value:"亲切真实"},{label:"专业权威",value:"专业权威"},{label:"幽默风趣",value:"幽默风趣"},{label:"高端精致",value:"高端精致"}]},{key:"keyPoints",label:"重点内容",type:"textarea",placeholder:"希望突出的重点信息",rows:2},{key:"additionalRequirements",label:"其他要求",type:"textarea",placeholder:"其他特殊要求",rows:2}]}],b=[{value:"taobao",label:"淘宝",icon:"🛒"},{value:"tmall",label:"天猫",icon:"🐱"},{value:"jd",label:"京东",icon:"📦"},{value:"pdd",label:"拼多多",icon:"🍊"},{value:"douyin",label:"抖音",icon:"🎵"},{value:"kuaishou",label:"快手",icon:"⚡"},{value:"xiaohongshu",label:"小红书",icon:"📕"},{value:"weixin",label:"微信",icon:"💬"},{value:"other",label:"其他",icon:"📱"}],w=I("product-title"),P=I("taobao"),S=I({}),q=I(""),M=I(!1),D=I(""),U=I(!1),Z=Se(()=>y.find(m=>m.type===w.value)||y[0]),E=()=>{const m=Z.value.fields,f={};m.forEach(_=>{var k;_.type==="select"&&((k=_.options)!=null&&k.length)?f[_.key]=_.options[0].value:f[_.key]=""}),S.value=f};rt(w,()=>{U.value||E(),q.value="",D.value=""});const Ue=async()=>{var f;if(!s.isConfigured){D.value="请先在设置页面配置 AI API";return}const m=Z.value.fields.find(_=>_.required&&!S.value[_.key]);if(m){D.value=`请填写${m.label}`;return}M.value=!0,D.value="",q.value="";try{const _=s.getService();let k,A;if(h.value){k="你是一位专业的电商文案专家，擅长创作高转化率的文案。";let V=h.value;for(const[We,Je]of Object.entries(S.value))V=V.replace(new RegExp(`\\{${We}\\}`,"g"),Je||"");A=V}else k=gt(w.value),A=dt(w.value,S.value,P.value);let ie="";for await(const V of _.chatStream([{role:"user",content:A}],k))ie+=V,q.value=ie;const Xe=S.value[(f=Z.value.fields[0])==null?void 0:f.key]||"未命名内容";r.addContent({type:w.value,platform:P.value,title:Xe,content:ie,params:{...S.value}})}catch(_){D.value=_ instanceof Error?_.message:"生成失败，请重试"}finally{M.value=!1}},Ve=async()=>{try{await navigator.clipboard.writeText(q.value),alert("已复制到剪贴板")}catch{alert("复制失败")}},He=Se(()=>q.value?v(q.value):""),Ge={"beauty-title":{prompt:`你是一位美妆文案专家。请为以下美妆产品创作吸引人的商品标题：
产品名称：{productName}
核心卖点：{sellingPoints}
适用肤质：{targetSkin}
价格：{price}

要求：突出产品功效、使用场景，符合小红书/抖音种草风格，包含热门关键词。`,fields:{productName:"",sellingPoints:"",targetSkin:"",price:""}},"beauty-desc":{prompt:`你是一位资深美妆文案策划。请为以下产品创作详情页文案：
产品名称：{productName}
核心成分：{ingredients}
主要功效：{benefits}
使用方法：{usage}

要求：包含成分科普、使用步骤、效果展示，语气专业但亲切。`,fields:{productName:"",ingredients:"",benefits:"",usage:""}},"beauty-video":{prompt:`你是一位美妆博主视频脚本策划。请创作以下类型的视频脚本：
产品名称：{productName}
视频类型：{videoType}
时长：{duration}

要求：开头3秒吸睛，包含产品展示、使用演示、效果对比，引导互动。`,fields:{productName:"",videoType:"",duration:""}},"fashion-title":{prompt:`你是一位时尚电商文案专家。请为以下服饰产品创作标题：
产品名称：{productName}
风格定位：{style}
适用季节：{season}
价格：{price}

要求：突出款式特点、搭配建议，吸引目标人群，包含季节关键词。`,fields:{productName:"",style:"",season:"",price:""}},"fashion-live":{prompt:`你是一位服装直播运营专家。请创作直播带货话术：
产品名称：{productName}
核心卖点：{sellingPoints}
优惠信息：{price}
尺码建议：{feature}

要求：包含上身展示、面料介绍、尺码推荐、促单话术。`,fields:{productName:"",sellingPoints:"",price:"",feature:""}},"digital-title":{prompt:`你是一位数码产品文案专家。请为以下产品创作标题：
产品名称：{productName}
核心参数：{specs}
目标用户：{targetUser}
价格：{price}

要求：突出核心参数、性能优势，针对科技爱好者或普通用户。`,fields:{productName:"",specs:"",targetUser:"",price:""}},"digital-review":{prompt:`你是一位数码博主脚本策划。请创作评测视频脚本：
产品名称：{productName}
评测类型：{reviewType}
优点：{pros}
缺点：{cons}

要求：专业客观，包含开箱、测试、总结，给出购买建议。`,fields:{productName:"",reviewType:"",pros:"",cons:""}},"food-title":{prompt:`你是一位食品电商文案专家。请为以下食品创作标题：
产品名称：{productName}
口味特点：{taste}
产地：{origin}
价格：{price}

要求：突出新鲜、美味、健康，刺激食欲，包含场景关键词。`,fields:{productName:"",taste:"",origin:"",price:""}},"food-desc":{prompt:`你是一位食品文案策划。请创作食品详情页：
产品名称：{productName}
配料表：{ingredients}
营养成分：{benefits}
储存方法：{usage}

要求：突出食材来源、制作工艺、食用场景，增加信任感。`,fields:{productName:"",ingredients:"",benefits:"",usage:""}},"home-title":{prompt:`你是一位家居电商文案专家。请创作标题：
产品名称：{productName}
材质：{material}
风格：{style}
价格：{price}

要求：突出品质、实用、美观，营造居家氛围。`,fields:{productName:"",material:"",style:"",price:""}},"mother-title":{prompt:`你是一位母婴电商文案专家。请创作标题：
产品名称：{productName}
适用年龄：{ageRange}
核心特点：{feature}
价格：{price}

要求：突出安全、品质、成长，让妈妈放心。`,fields:{productName:"",ageRange:"",feature:"",price:""}},"sports-title":{prompt:`你是一位运动电商文案专家。请创作标题：
产品名称：{productName}
运动类型：{sport}
核心特点：{feature}
价格：{price}

要求：突出专业、舒适、性能，激发运动热情。`,fields:{productName:"",sport:"",feature:"",price:""}},"pet-title":{prompt:`你是一位宠物电商文案专家。请创作标题：
产品名称：{productName}
适用宠物：{petType}
核心特点：{feature}
价格：{price}

要求：突出关爱、健康、快乐，引起铲屎官共鸣。`,fields:{productName:"",petType:"",feature:"",price:""}}},Fe=m=>{Ge[m]&&E()};return we(()=>{E();const m=e.query.type;m&&y.some(_=>_.type===m)&&(w.value=m);const f=e.query.template;f&&Fe(f)}),(m,f)=>{var _;return R(),T("div",sl,[d("div",nl,[f[3]||(f[3]=d("h2",{class:"text-xl font-bold text-gray-800 dark:text-gray-200"}," 内容创作 ",-1)),st(ut,{"model-type":"text","show-label":!0,size:"md"})]),d("div",al,[d("div",il,[d("div",ol,[f[4]||(f[4]=d("h3",{class:"font-semibold text-gray-800 dark:text-gray-200 mb-4"}," 选择内容类型 ",-1)),d("div",cl,[(R(),T(J,null,K(y,k=>d("button",{key:k.type,class:ve(["p-3 rounded-lg border-2 transition-all text-left",w.value===k.type?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"]),onClick:A=>w.value=k.type},[d("span",ul,C(k.icon),1),d("div",hl,C(k.name),1)],10,pl)),64))])]),d("div",dl,[f[5]||(f[5]=d("h3",{class:"font-semibold text-gray-800 dark:text-gray-200 mb-4"}," 选择平台 ",-1)),d("div",gl,[(R(),T(J,null,K(b,k=>d("button",{key:k.value,class:ve(["px-3 py-1.5 rounded-full border-2 text-sm transition-all",P.value===k.value?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 hover:border-gray-300"]),onClick:A=>P.value=k.value},C(k.icon)+" "+C(k.label),11,kl)),64))])]),d("div",fl,[f[6]||(f[6]=d("h3",{class:"font-semibold text-gray-800 mb-4"}," 填写信息 ",-1)),d("div",bl,[(R(!0),T(J,null,K(Z.value.fields,k=>(R(),T("div",{key:k.key},[d("label",xl,[$e(C(k.label)+" ",1),k.required?(R(),T("span",ml,"*")):H("",!0)]),k.type==="text"?Y((R(),T("input",{key:0,"onUpdate:modelValue":A=>S.value[k.key]=A,type:"text",placeholder:k.placeholder,class:"input"},null,8,yl)),[[oe,S.value[k.key]]]):k.type==="textarea"?Y((R(),T("textarea",{key:1,"onUpdate:modelValue":A=>S.value[k.key]=A,placeholder:k.placeholder,rows:k.rows||3,class:"input resize-none"},null,8,wl)),[[oe,S.value[k.key]]]):k.type==="select"?Y((R(),T("select",{key:2,"onUpdate:modelValue":A=>S.value[k.key]=A,class:"input"},[(R(!0),T(J,null,K(k.options,A=>(R(),T("option",{key:A.value,value:A.value},C(A.label),9,$l))),128))],8,vl)),[[nt,S.value[k.key]]]):H("",!0)]))),128))])]),d("div",Sl,[d("button",{disabled:M.value||!at(s).isConfigured,class:"btn-primary flex-1 py-3 text-lg",onClick:Ue},[M.value?(R(),T("span",Tl,"⏳")):(R(),T("span",_l,"✨")),$e(" "+C(M.value?"生成中...":"生成内容"),1)],8,Rl),d("button",{class:"btn-secondary py-3 text-lg px-4",title:"保存当前填写内容为模板",onClick:u}," 💾 ")]),D.value?(R(),T("div",Al,C(D.value),1)):H("",!0)]),d("div",zl,[d("div",Pl,[f[7]||(f[7]=d("h3",{class:"font-semibold text-gray-800"}," 生成结果 ",-1)),q.value?(R(),T("button",{key:0,class:"btn-secondary text-sm",onClick:Ve}," 📋 复制 ")):H("",!0)]),d("div",ql,[M.value&&!q.value?(R(),T("div",Cl,[...f[8]||(f[8]=[d("div",{class:"text-center text-gray-500 dark:text-gray-400"},[d("span",{class:"text-4xl animate-pulse"},"🤖"),d("p",{class:"mt-2"}," AI 正在创作中... ")],-1)])])):q.value?(R(),T("div",{key:1,class:"prose prose-sm max-w-none dark:prose-invert",innerHTML:He.value},null,8,Il)):(R(),T("div",Nl,[...f[9]||(f[9]=[d("div",{class:"text-center"},[d("span",{class:"text-4xl"},"📝"),d("p",{class:"mt-2"}," 填写左侧信息后点击生成 ")],-1)])]))])])]),c.value?(R(),T("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:f[2]||(f[2]=it(k=>c.value=!1,["self"]))},[d("div",Ll,[f[12]||(f[12]=d("div",{class:"p-6 border-b border-gray-200 dark:border-gray-700"},[d("h3",{class:"text-lg font-semibold text-gray-800 dark:text-gray-200"}," 保存为模板 ")],-1)),d("div",El,[d("div",null,[f[10]||(f[10]=d("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," 模板名称 ",-1)),Y(d("input",{"onUpdate:modelValue":f[0]||(f[0]=k=>o.value=k),type:"text",placeholder:"例如：我的美妆标题模板",class:"input",onKeyup:ot(g,["enter"])},null,544),[[oe,o.value]])]),d("div",Bl,[f[11]||(f[11]=d("p",null,"将保存以下内容：",-1)),d("ul",Ml,[d("li",null,"内容类型："+C(Z.value.name),1),d("li",null,"平台："+C((_=b.find(k=>k.value===P.value))==null?void 0:_.label),1),d("li",null,"填写的信息："+C(Object.keys(S.value).filter(k=>S.value[k]).length)+" 项",1)])])]),d("div",Dl,[d("button",{class:"btn-secondary flex-1",onClick:f[1]||(f[1]=k=>c.value=!1)}," 取消 "),d("button",{class:"btn-primary flex-1",onClick:g}," 保存 ")])])])):H("",!0)])}}});export{Ql as default};
