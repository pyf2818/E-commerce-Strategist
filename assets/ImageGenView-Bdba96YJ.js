import{H as S,V as H,j as J,$ as g,l as o,d,a as e,g as O,x as q,J as B,b as y,D as f,e as A,T as c,A as G,f as U,r as Q,M as Y}from"./index-6PeRYcw-.js";import{Q as Z}from"./ModelSelector.vue_vue_type_script_setup_true_lang-BBsFU803.js";import{s as F}from"./_plugin-vue_export-helper-lGy7RumW.js";const N={class:"max-w-6xl mx-auto space-y-6"},W={class:"flex items-center justify-between"},X={class:"card"},ee={class:"mb-6"},ae={class:"mb-6"},te={class:"grid grid-cols-3 sm:grid-cols-6 gap-3"},le=["onClick"],re={class:"text-2xl"},se={class:"text-xs mt-1 text-gray-500 dark:text-gray-400"},oe={class:"mb-6"},de={class:"flex flex-wrap gap-3"},ie=["onClick"],ce=["disabled"],ne={key:0,class:"mt-4 p-4 bg-danger-50 dark:bg-danger-900/20 text-danger-600 dark:text-danger-400 rounded-lg"},ge={class:"card"},ue={class:"space-y-4"},be={class:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2"},ve={class:"flex flex-wrap gap-2"},me=["onClick"],xe={key:0,class:"card"},pe={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},ye=["src","alt"],fe={class:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-4"},ke={class:"text-white text-sm line-clamp-2 mb-3"},he={class:"flex gap-2"},we=["onClick"],Ce=["onClick"],$e=["onClick"],Ue=["onClick"],Ie=["src","alt"],Ae={class:"mt-4 text-center"},je={class:"text-white text-sm"},De=S({__name:"ImageGenView",setup(Ee){const i=H(),j=J(),b=g(""),v=g("realistic"),w=g("1024x1024"),k=g(!1),n=g(""),C=[{value:"realistic",label:"çœŸå®ç…§ç‰‡",icon:"ğŸ“·"},{value:"product",label:"å•†å“å±•ç¤º",icon:"ğŸ›ï¸"},{value:"lifestyle",label:"ç”Ÿæ´»åœºæ™¯",icon:"ğŸ "},{value:"minimal",label:"ç®€çº¦ç™½åº•",icon:"â¬œ"},{value:"artistic",label:"è‰ºæœ¯é£æ ¼",icon:"ğŸ¨"},{value:"3d",label:"3Dæ¸²æŸ“",icon:"ğŸ®"}],D=[{value:"512x512",label:"512Ã—512"},{value:"1024x1024",label:"1024Ã—1024"},{value:"1024x768",label:"1024Ã—768 (æ¨ªç‰ˆ)"},{value:"768x1024",label:"768Ã—1024 (ç«–ç‰ˆ)"}],E=[{category:"ç¾å¦†æŠ¤è‚¤",prompts:["ç²¾è‡´å£çº¢ç‰¹å†™ï¼Œé‡‘è‰²åŒ…è£…ï¼Œå¤§ç†çŸ³èƒŒæ™¯","æŠ¤è‚¤ç²¾åæ¶²ç“¶èº«ï¼Œè‡ªç„¶å…‰çº¿ï¼Œæ¸…æ–°é£æ ¼"]},{category:"æ•°ç ç”µå­",prompts:["æ— çº¿è€³æœºå±•ç¤ºï¼Œç§‘æŠ€æ„ŸèƒŒæ™¯ï¼Œè“è‰²ç¯å…‰","æ™ºèƒ½æ‰‹è¡¨ç‰¹å†™ï¼Œå•†åŠ¡é£æ ¼ï¼Œç®€çº¦èƒŒæ™¯"]},{category:"æœé¥°é‹åŒ…",prompts:["æ—¶å°šè¿åŠ¨é‹ï¼Œç™½è‰²èƒŒæ™¯ï¼Œäº§å“æ‘„å½±","çœŸçš®æ‰‹æåŒ…ï¼ŒæŸ”å’Œç¯å…‰ï¼Œé«˜çº§è´¨æ„Ÿ"]},{category:"é£Ÿå“ç”Ÿé²œ",prompts:["æ–°é²œæ°´æœæ‹¼ç›˜ï¼Œè‡ªç„¶å…‰çº¿ï¼Œå¥åº·æ´»åŠ›","ç²¾ç¾è›‹ç³•ï¼Œç”œå“æ‘„å½±ï¼Œæ¸©é¦¨æ°›å›´"]}],m=g([]),$=g(!1),x=g(null),L=l=>{x.value=l,$.value=!0},I=()=>{$.value=!1,x.value=null},_=async()=>{var l,t;if(!i.isImageEnabled){n.value="è¯·å…ˆåœ¨è®¾ç½®é¡µé¢é…ç½®å›¾åƒç”Ÿæˆæ¨¡å‹çš„ API Key";return}if(!b.value.trim()){n.value="è¯·è¾“å…¥å›¾ç‰‡æè¿°";return}k.value=!0,n.value="";const a=b.value;let s=a;try{if(i.isTextEnabled){const u=await i.getTextService().chat([{role:"user",content:`è¯·å°†ä»¥ä¸‹å•†å“å›¾ç‰‡æè¿°ä¼˜åŒ–ä¸ºè‹±æ–‡çš„ AI ç»˜å›¾æç¤ºè¯ï¼Œè¦æ±‚ï¼š
1. æ·»åŠ ä¸“ä¸šçš„äº§å“æ‘„å½±å…³é”®è¯ï¼ˆå¦‚ï¼šprofessional product photography, studio lighting, high detailï¼‰
2. åŒ…å«å…‰çº¿ã€è§’åº¦ã€èƒŒæ™¯æè¿°
3. é£æ ¼ï¼š${(l=C.find(M=>M.value===v.value))==null?void 0:l.label}
4. æ§åˆ¶åœ¨ 100 è¯ä»¥å†…ï¼Œç›´æ¥è¾“å‡ºè‹±æ–‡æç¤ºè¯ï¼Œä¸è¦è§£é‡Š

å•†å“æè¿°ï¼š${a}`}],"ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„äº§å“æ‘„å½±å¸ˆå’Œ AI ç»˜å›¾æç¤ºè¯ä¸“å®¶ã€‚åªè¾“å‡ºä¼˜åŒ–åçš„è‹±æ–‡æç¤ºè¯ã€‚");u.success&&u.content&&(s=u.content)}const r=i.getImageService();console.log("å›¾åƒç”Ÿæˆé…ç½®:",{provider:i.config.image.provider,model:i.config.image.model,baseUrl:i.config.image.baseUrl,hasApiKey:!!i.config.image.apiKey});const p=await r.generateImage(s);let h="";if(p.success&&p.imageUrl)h=p.imageUrl,n.value="";else{const u=p.error||"å›¾ç‰‡ç”Ÿæˆå¤±è´¥ï¼Œè¯·æ£€æŸ¥é…ç½®";n.value=u;return}const K={id:`img-${Date.now()}`,prompt:a,style:v.value,imageUrl:h,createdAt:Date.now()};m.value.unshift(K),j.addContent({type:"social-media",platform:"other",title:a.slice(0,50)+(a.length>50?"...":""),content:`![ç”Ÿæˆçš„å›¾ç‰‡](${h})

**åŸå§‹æè¿°**: ${a}

**é£æ ¼**: ${(t=C.find(u=>u.value===v.value))==null?void 0:t.label}`,params:{prompt:a,optimizedPrompt:s,style:v.value,size:w.value,imageUrl:h}}),b.value=""}catch(r){n.value=r instanceof Error?r.message:"å›¾ç‰‡ç”Ÿæˆå¤±è´¥"}finally{k.value=!1}},z=l=>{b.value=l},V=async(l,t)=>{try{const a=await(await fetch(l)).blob(),s=URL.createObjectURL(a),r=document.createElement("a");r.href=s,r.download=`å•†å“å›¾ç‰‡-${t+1}.png`,r.click(),URL.revokeObjectURL(s)}catch{window.open(l,"_blank")}},R=async l=>{try{await navigator.clipboard.writeText(l),alert("å·²å¤åˆ¶")}catch{alert("å¤åˆ¶å¤±è´¥")}},T=l=>{const t=m.value.findIndex(a=>a.id===l);t>-1&&m.value.splice(t,1)},P=()=>{confirm("ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰ç”Ÿæˆå†å²å—ï¼Ÿ")&&(m.value=[])};return(l,t)=>(o(),d("div",null,[e("div",N,[e("div",W,[t[2]||(t[2]=e("h2",{class:"text-xl font-bold text-gray-800 dark:text-gray-200"}," AI å•†å“å›¾ç‰‡ç”Ÿæˆ ",-1)),O(Z,{"model-type":"image","show-label":!0,size:"md"})]),e("div",X,[t[6]||(t[6]=e("h3",{class:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-6"}," å›¾ç‰‡æè¿°ä¸è®¾ç½® ",-1)),e("div",ee,[t[3]||(t[3]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," å›¾ç‰‡æè¿° ",-1)),q(e("textarea",{"onUpdate:modelValue":t[0]||(t[0]=a=>b.value=a),rows:"3",placeholder:"æè¿°ä½ æƒ³è¦ç”Ÿæˆçš„å•†å“å›¾ç‰‡ï¼Œä¾‹å¦‚ï¼šä¸€æ¬¾çº¢è‰²å£çº¢ï¼Œé‡‘è‰²åŒ…è£…ï¼Œå¤§ç†çŸ³èƒŒæ™¯ï¼ŒæŸ”å’Œç¯å…‰...",class:"input"},null,512),[[B,b.value]])]),e("div",ae,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," å›¾ç‰‡é£æ ¼ ",-1)),e("div",te,[(o(),d(y,null,f(C,a=>e("button",{key:a.value,class:A(["p-3 rounded-xl border-2 text-center transition-all",v.value===a.value?"border-primary-500 bg-primary-50 dark:bg-primary-900/30":"border-gray-200 dark:border-gray-700 hover:border-gray-300"]),onClick:s=>v.value=a.value},[e("span",re,c(a.icon),1),e("div",se,c(a.label),1)],10,le)),64))])]),e("div",oe,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," å›¾ç‰‡å°ºå¯¸ ",-1)),e("div",de,[(o(),d(y,null,f(D,a=>e("button",{key:a.value,class:A(["px-4 py-2 rounded-lg border-2 text-sm transition-all",w.value===a.value?"border-primary-500 bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400":"border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400 hover:border-gray-300"]),onClick:s=>w.value=a.value},c(a.label),11,ie)),64))])]),e("button",{disabled:k.value||!G(i).isImageEnabled,class:"btn-primary w-full py-3",onClick:_},c(k.value?"ğŸ¨ ç”Ÿæˆä¸­...":"ğŸ¨ ç”Ÿæˆå›¾ç‰‡"),9,ce),n.value?(o(),d("div",ne,c(n.value),1)):U("",!0)]),e("div",ge,[t[7]||(t[7]=e("h3",{class:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4"}," ç¤ºä¾‹æç¤ºè¯ ",-1)),e("div",ue,[(o(),d(y,null,f(E,a=>e("div",{key:a.category},[e("h4",be,c(a.category),1),e("div",ve,[(o(!0),d(y,null,f(a.prompts,(s,r)=>(o(),d("button",{key:r,class:"px-3 py-1.5 text-sm bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-gray-700 dark:text-gray-300",onClick:p=>z(s)},c(s),9,me))),128))])])),64))])]),m.value.length>0?(o(),d("div",xe,[e("div",{class:"flex items-center justify-between mb-4"},[t[8]||(t[8]=e("h3",{class:"text-lg font-semibold text-gray-800 dark:text-gray-200"}," ç”Ÿæˆå†å² ",-1)),e("button",{class:"text-sm text-danger-500 hover:text-danger-600",onClick:P}," æ¸…ç©ºå†å² ")]),e("div",pe,[(o(!0),d(y,null,f(m.value,(a,s)=>(o(),d("div",{key:a.id,class:"group relative rounded-xl overflow-hidden border border-gray-200 dark:border-gray-700"},[e("img",{src:a.imageUrl,alt:a.prompt,class:"w-full aspect-square object-cover"},null,8,ye),e("div",fe,[e("p",ke,c(a.prompt),1),e("div",he,[e("button",{class:"flex-1 btn bg-white/20 text-white hover:bg-white/30 text-sm",onClick:r=>L(a)}," ğŸ” æŸ¥çœ‹ ",8,we),e("button",{class:"flex-1 btn bg-white/20 text-white hover:bg-white/30 text-sm",onClick:r=>V(a.imageUrl,s)}," ğŸ“¥ ä¸‹è½½ ",8,Ce),e("button",{class:"flex-1 btn bg-white/20 text-white hover:bg-white/30 text-sm",onClick:r=>R(a.prompt)}," ğŸ“‹ å¤åˆ¶ ",8,$e),e("button",{class:"btn bg-danger-500/80 text-white hover:bg-danger-600/80 text-sm",onClick:r=>T(a.id)}," ğŸ—‘ï¸ ",8,Ue)])])]))),128))])])):U("",!0),t[9]||(t[9]=Q('<div class="card bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800" data-v-f1d06d3b><h3 class="text-lg font-semibold text-blue-800 dark:text-blue-300 mb-3" data-v-f1d06d3b> ğŸ“– ä½¿ç”¨è¯´æ˜ </h3><div class="text-sm text-blue-700 dark:text-blue-400 space-y-2" data-v-f1d06d3b><p data-v-f1d06d3b>1. <strong data-v-f1d06d3b>æè¿°å•†å“</strong>ï¼šè¯¦ç»†æè¿°ä½ æƒ³è¦ç”Ÿæˆçš„å•†å“å›¾ç‰‡ï¼ŒåŒ…æ‹¬äº§å“å¤–è§‚ã€èƒŒæ™¯ã€å…‰çº¿ç­‰</p><p data-v-f1d06d3b>2. <strong data-v-f1d06d3b>é€‰æ‹©é£æ ¼</strong>ï¼šæ ¹æ®å•†å“ç±»å‹é€‰æ‹©åˆé€‚çš„æ‹æ‘„é£æ ¼</p><p data-v-f1d06d3b>3. <strong data-v-f1d06d3b>ç”Ÿæˆå›¾ç‰‡</strong>ï¼šAI ä¼šè‡ªåŠ¨ä¼˜åŒ–æç¤ºè¯å¹¶ç”Ÿæˆä¸“ä¸šå•†å“å›¾</p><p data-v-f1d06d3b>4. <strong data-v-f1d06d3b>ä¸‹è½½ä½¿ç”¨</strong>ï¼šç”Ÿæˆçš„å›¾ç‰‡å¯ç›´æ¥ç”¨äºç”µå•†è¯¦æƒ…é¡µ</p></div><div class="mt-4 p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg text-sm text-blue-700 dark:text-blue-400" data-v-f1d06d3b> ğŸ’¡ <strong data-v-f1d06d3b>æç¤º</strong>ï¼šæ­¤åŠŸèƒ½éœ€è¦æ”¯æŒ DALL-E æˆ–ç±»ä¼¼å›¾ç‰‡ç”Ÿæˆ API çš„æ¨¡å‹ã€‚å½“å‰ä½¿ç”¨æ¨¡æ‹Ÿå›¾ç‰‡å±•ç¤ºæ•ˆæœã€‚ </div></div>',1)),$.value&&x.value?(o(),d("div",{key:1,class:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",onClick:I},[e("div",{class:"relative max-w-[90vw] max-h-[90vh]",onClick:t[1]||(t[1]=Y(()=>{},["stop"]))},[e("img",{src:x.value.imageUrl,alt:x.value.prompt,class:"max-w-full max-h-[85vh] object-contain rounded-lg"},null,8,Ie),e("div",Ae,[e("p",je,c(x.value.prompt),1)]),e("button",{class:"absolute top-2 right-2 text-white text-2xl bg-black/50 rounded-full w-10 h-10 flex items-center justify-center hover:bg-black/70",onClick:I}," âœ• ")])])):U("",!0)])]))}}),Ve=F(De,[["__scopeId","data-v-f1d06d3b"]]);export{Ve as default};
