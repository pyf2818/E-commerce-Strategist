import{H as Ke,V as Ye,j as et,$ as _,h as we,p as ve,I as tt,d as S,a as d,g as lt,b as W,D as K,A as rt,n as $e,T as C,f as V,M as st,x as Y,J as oe,N as at,k as nt,E as it,l as T,e as Re,i as ot}from"./index-6PeRYcw-.js";import{Q as ct}from"./ModelSelector.vue_vue_type_script_setup_true_lang-BBsFU803.js";var pt=Object.defineProperty,ut=(l,e,r)=>e in l?pt(l,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[e]=r,$=(l,e,r)=>ut(l,typeof e!="symbol"?e+"":e,r);const ht={"product-title":`你是一位专业的电商运营专家，擅长撰写高转化率的商品标题。
你的任务是帮助商家创作吸引人、SEO友好、符合平台规则的商品标题。
请遵循以下原则：
1. 突出产品核心卖点和优势
2. 包含热门搜索关键词
3. 符合平台字数限制
4. 避免违禁词和夸大宣传
5. 简洁有力，吸引点击`,"product-desc":`你是一位资深的电商文案策划师，擅长撰写打动人心的商品详情页描述。
你的任务是创作能够展示产品价值、解决用户痛点、促进转化的商品描述。
请遵循以下原则：
1. 开头抓住眼球，引发兴趣
2. 详细描述产品特点和优势
3. 使用场景化语言，让用户产生代入感
4. 突出差异化卖点
5. 引导用户下单行动`,"short-video":`你是一位短视频内容策划专家，深谙抖音、快手等平台的爆款内容逻辑。
你的任务是创作能够吸引用户停留、点赞、转发的短视频脚本。
请遵循以下原则：
1. 黄金3秒开头，抓住注意力
2. 内容紧凑，节奏明快
3. 设置悬念和反转
4. 引导互动和关注
5. 符合平台内容规范`,"live-script":`你是一位经验丰富的直播带货顾问，精通各大电商平台直播运营。
你的任务是创作专业的直播话术，帮助主播提升直播间GMV。
请遵循以下原则：
1. 开场暖场，活跃气氛
2. 产品介绍清晰有吸引力
3. 设置合理的价格锚点
4. 促单话术有力，制造紧迫感
5. 互动环节设计巧妙`,"marketing-copy":`你是一位资深营销文案专家，擅长创作各种营销活动的文案。
你的任务是撰写能够吸引目标用户、传达活动价值、促进转化的营销文案。
请遵循以下原则：
1. 标题吸引眼球
2. 突出活动优惠和福利
3. 制造紧迫感和稀缺感
4. 行动指令明确
5. 符合品牌调性`,"customer-service":`你是一位专业的电商客服培训师，熟悉各类客服场景和话术。
你的任务是创作专业的客服回复话术，帮助客服人员高效处理各类问题。
请遵循以下原则：
1. 语气友善专业
2. 快速响应核心问题
3. 提供解决方案而非推诿
4. 适当挽留客户
5. 维护店铺形象`,"social-media":`你是一位社交媒体运营专家，精通小红书、微博、朋友圈等平台的内容运营。
你的任务是创作适合社交平台传播的内容，提升品牌曝光和用户互动。
请遵循以下原则：
1. 内容有共鸣，引发讨论
2. 标题/开头吸引点击
3. 图文结合效果好
4. 善用话题标签
5. 引导互动分享`};function dt(l,e,r){const s={taobao:"淘宝",tmall:"天猫",jd:"京东",pdd:"拼多多",douyin:"抖音",kuaishou:"快手",xiaohongshu:"小红书",weixin:"微信",other:"电商平台"}[r];return{"product-title":(t,a)=>`请为以下商品创作${a}标题：
商品名称：${t.productName||""}
商品类目：${t.category||""}
核心卖点：${t.sellingPoints||""}
目标人群：${t.targetAudience||""}
价格区间：${t.priceRange||""}
其他要求：${t.additionalRequirements||"无"}

请生成3-5个标题供选择，并简要说明每个标题的特点。`,"product-desc":(t,a)=>`请为以下商品创作${a}详情页描述：
商品名称：${t.productName||""}
商品类目：${t.category||""}
核心卖点：${t.sellingPoints||""}
目标人群：${t.targetAudience||""}
价格：${t.price||""}
规格参数：${t.specifications||""}
其他要求：${t.additionalRequirements||"无"}

请创作一份完整的商品详情页文案，包含：商品亮点、详细参数、使用场景、购买理由等部分。`,"short-video":(t,a)=>`请为以下内容创作${a}短视频脚本：
视频主题：${t.topic||""}
产品/服务：${t.product||""}
视频时长：${t.duration||"30-60秒"}
目标效果：${t.objective||"提升品牌曝光"}
风格要求：${t.style||"轻松有趣"}
其他要求：${t.additionalRequirements||"无"}

请创作完整的短视频脚本，包含：
1. 视频标题/封面文案
2. 开头3秒吸睛内容
3. 中间主要内容
4. 结尾引导互动
5. 画面/配乐建议`,"live-script":(t,a)=>`请为以下直播场景创作话术：
直播类型：${t.liveType||"带货直播"}
产品名称：${t.productName||""}
产品价格：${t.price||""}
优惠活动：${t.promotion||""}
话术环节：${t.scene||"产品介绍"}
其他要求：${t.additionalRequirements||"无"}

请创作完整的直播话术，包含开场白、产品介绍、互动话术、促单话术等环节。`,"marketing-copy":(t,a)=>`请为以下营销活动创作文案：
活动类型：${t.activityType||"促销活动"}
活动主题：${t.theme||""}
优惠内容：${t.discount||""}
活动时间：${t.timeRange||""}
目标人群：${t.targetAudience||""}
投放渠道：${t.channel||a}
其他要求：${t.additionalRequirements||"无"}

请创作完整的营销文案，包含标题、正文、行动号召等部分。`,"customer-service":(t,a)=>`请为以下客服场景创作回复话术：
问题类型：${t.issueType||"一般咨询"}
用户问题：${t.userQuestion||""}
商品信息：${t.productInfo||""}
处理原则：${t.principle||"客户至上"}
其他要求：${t.additionalRequirements||"无"}

请创作专业、友善的客服回复话术。`,"social-media":(t,a)=>`请为以下内容创作${a}社媒文案：
内容主题：${t.topic||""}
内容类型：${t.contentType||"图文"}
目标平台：${a}
目标效果：${t.objective||"提升互动"}
其他要求：${t.additionalRequirements||"无"}

请创作适合社交平台传播的内容，包含标题、正文、话题标签等。`}[l](e,s)}function gt(l){return ht[l]}function he(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var O=he();function _e(l){O=l}var M={exec:()=>null};function x(l,e=""){let r=typeof l=="string"?l:l.source,s={replace:(t,a)=>{let i=typeof a=="string"?a:a.source;return i=i.replace(P.caret,"$1"),r=r.replace(t,i),s},getRegex:()=>new RegExp(r,e)};return s}var kt=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),P={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:l=>new RegExp(`^( {0,3}${l})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:l=>new RegExp(`^ {0,${Math.min(3,l-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:l=>new RegExp(`^ {0,${Math.min(3,l-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:l=>new RegExp(`^ {0,${Math.min(3,l-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:l=>new RegExp(`^ {0,${Math.min(3,l-1)}}#`),htmlBeginRegex:l=>new RegExp(`^ {0,${Math.min(3,l-1)}}<(?:[a-z].*>|!--)`,"i"),blockquoteBeginRegex:l=>new RegExp(`^ {0,${Math.min(3,l-1)}}>`)},ft=/^(?:[ \t]*(?:\n|$))+/,bt=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,xt=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,J=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,mt=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,de=/ {0,3}(?:[*+-]|\d{1,9}[.)])/,Ce=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Ne=x(Ce).replace(/bull/g,de).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),yt=x(Ce).replace(/bull/g,de).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),ge=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,wt=/^[^\n]+/,ke=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,vt=x(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",ke).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),$t=x(/^(bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,de).getRegex(),ae="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",fe=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Rt=x("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",fe).replace("tag",ae).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ee=x(ge).replace("hr",J).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)])[ \\t]").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ae).getRegex(),St=x(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Ee).getRegex(),be={blockquote:St,code:bt,def:vt,fences:xt,heading:mt,hr:J,html:Rt,lheading:Ne,list:$t,newline:ft,paragraph:Ee,table:M,text:wt},Se=x("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",J).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)])[ \\t]").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ae).getRegex(),Tt={...be,lheading:yt,table:Se,paragraph:x(ge).replace("hr",J).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Se).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)])[ \\t]").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ae).getRegex()},At={...be,html:x(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",fe).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:M,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:x(ge).replace("hr",J).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ne).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},zt=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Pt=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Le=/^( {2,}|\\)\n(?!\s*$)/,qt=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,ne=/[\p{P}\p{S}]/u,xe=/[\s\p{P}\p{S}]/u,Be=/[^\s\p{P}\p{S}]/u,It=x(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,xe).getRegex(),De=/(?!~)[\p{P}\p{S}]/u,_t=/(?!~)[\s\p{P}\p{S}]/u,Ct=/(?:[^\s\p{P}\p{S}]|~)/u,je=/(?![*_])[\p{P}\p{S}]/u,Nt=/(?![*_])[\s\p{P}\p{S}]/u,Et=/(?:[^\s\p{P}\p{S}]|[*_])/u,Lt=x(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",kt?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),Ze=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Bt=x(Ze,"u").replace(/punct/g,ne).getRegex(),Dt=x(Ze,"u").replace(/punct/g,De).getRegex(),Me="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",jt=x(Me,"gu").replace(/notPunctSpace/g,Be).replace(/punctSpace/g,xe).replace(/punct/g,ne).getRegex(),Zt=x(Me,"gu").replace(/notPunctSpace/g,Ct).replace(/punctSpace/g,_t).replace(/punct/g,De).getRegex(),Mt=x("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Be).replace(/punctSpace/g,xe).replace(/punct/g,ne).getRegex(),Qt=x(/^~~?(?:((?!~)punct)|[^\s~])/,"u").replace(/punct/g,je).getRegex(),Ot="^[^~]+(?=[^~])|(?!~)punct(~~?)(?=[\\s]|$)|notPunctSpace(~~?)(?!~)(?=punctSpace|$)|(?!~)punctSpace(~~?)(?=notPunctSpace)|[\\s](~~?)(?!~)(?=punct)|(?!~)punct(~~?)(?!~)(?=punct)|notPunctSpace(~~?)(?=notPunctSpace)",Ht=x(Ot,"gu").replace(/notPunctSpace/g,Et).replace(/punctSpace/g,Nt).replace(/punct/g,je).getRegex(),Ut=x(/\\(punct)/,"gu").replace(/punct/g,ne).getRegex(),Vt=x(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Gt=x(fe).replace("(?:-->|$)","-->").getRegex(),Xt=x("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Gt).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),le=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,Ft=x(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",le).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Qe=x(/^!?\[(label)\]\[(ref)\]/).replace("label",le).replace("ref",ke).getRegex(),Oe=x(/^!?\[(ref)\](?:\[\])?/).replace("ref",ke).getRegex(),Jt=x("reflink|nolink(?!\\()","g").replace("reflink",Qe).replace("nolink",Oe).getRegex(),Te=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,me={_backpedal:M,anyPunctuation:Ut,autolink:Vt,blockSkip:Lt,br:Le,code:Pt,del:M,delLDelim:M,delRDelim:M,emStrongLDelim:Bt,emStrongRDelimAst:jt,emStrongRDelimUnd:Mt,escape:zt,link:Ft,nolink:Oe,punctuation:It,reflink:Qe,reflinkSearch:Jt,tag:Xt,text:qt,url:M},Wt={...me,link:x(/^!?\[(label)\]\((.*?)\)/).replace("label",le).getRegex(),reflink:x(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",le).getRegex()},ce={...me,emStrongRDelimAst:Zt,emStrongLDelim:Dt,delLDelim:Qt,delRDelim:Ht,url:x(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",Te).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:x(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",Te).getRegex()},Kt={...ce,br:x(Le).replace("{2,}","*").getRegex(),text:x(ce.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ee={normal:be,gfm:Tt,pedantic:At},G={normal:me,gfm:ce,breaks:Kt,pedantic:Wt},Yt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ae=l=>Yt[l];function B(l,e){if(e){if(P.escapeTest.test(l))return l.replace(P.escapeReplace,Ae)}else if(P.escapeTestNoEncode.test(l))return l.replace(P.escapeReplaceNoEncode,Ae);return l}function ze(l){try{l=encodeURI(l).replace(P.percentDecode,"%")}catch{return null}return l}function Pe(l,e){var r;let s=l.replace(P.findPipe,(i,n,c)=>{let o=!1,u=n;for(;--u>=0&&c[u]==="\\";)o=!o;return o?"|":" |"}),t=s.split(P.splitPipe),a=0;if(t[0].trim()||t.shift(),t.length>0&&!((r=t.at(-1))!=null&&r.trim())&&t.pop(),e)if(t.length>e)t.splice(e);else for(;t.length<e;)t.push("");for(;a<t.length;a++)t[a]=t[a].trim().replace(P.slashPipe,"|");return t}function X(l,e,r){let s=l.length;if(s===0)return"";let t=0;for(;t<s&&l.charAt(s-t-1)===e;)t++;return l.slice(0,s-t)}function el(l,e){if(l.indexOf(e[1])===-1)return-1;let r=0;for(let s=0;s<l.length;s++)if(l[s]==="\\")s++;else if(l[s]===e[0])r++;else if(l[s]===e[1]&&(r--,r<0))return s;return r>0?-2:-1}function tl(l,e=0){let r=e,s="";for(let t of l)if(t==="	"){let a=4-r%4;s+=" ".repeat(a),r+=a}else s+=t,r++;return s}function qe(l,e,r,s,t){let a=e.href,i=e.title||null,n=l[1].replace(t.other.outputLinkReplace,"$1");s.state.inLink=!0;let c={type:l[0].charAt(0)==="!"?"image":"link",raw:r,href:a,title:i,text:n,tokens:s.inlineTokens(n)};return s.state.inLink=!1,c}function ll(l,e,r){let s=l.match(r.other.indentCodeCompensation);if(s===null)return e;let t=s[1];return e.split(`
`).map(a=>{let i=a.match(r.other.beginningSpace);if(i===null)return a;let[n]=i;return n.length>=t.length?a.slice(t.length):a}).join(`
`)}var re=class{constructor(l){$(this,"options"),$(this,"rules"),$(this,"lexer"),this.options=l||O}space(l){let e=this.rules.block.newline.exec(l);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(l){let e=this.rules.block.code.exec(l);if(e){let r=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?r:X(r,`
`)}}}fences(l){let e=this.rules.block.fences.exec(l);if(e){let r=e[0],s=ll(r,e[3]||"",this.rules);return{type:"code",raw:r,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:s}}}heading(l){let e=this.rules.block.heading.exec(l);if(e){let r=e[2].trim();if(this.rules.other.endingHash.test(r)){let s=X(r,"#");(this.options.pedantic||!s||this.rules.other.endingSpaceChar.test(s))&&(r=s.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(l){let e=this.rules.block.hr.exec(l);if(e)return{type:"hr",raw:X(e[0],`
`)}}blockquote(l){let e=this.rules.block.blockquote.exec(l);if(e){let r=X(e[0],`
`).split(`
`),s="",t="",a=[];for(;r.length>0;){let i=!1,n=[],c;for(c=0;c<r.length;c++)if(this.rules.other.blockquoteStart.test(r[c]))n.push(r[c]),i=!0;else if(!i)n.push(r[c]);else break;r=r.slice(c);let o=n.join(`
`),u=o.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");s=s?`${s}
${o}`:o,t=t?`${t}
${u}`:u;let g=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,a,!0),this.lexer.state.top=g,r.length===0)break;let h=a.at(-1);if(h?.type==="code")break;if(h?.type==="blockquote"){let p=h,y=p.raw+`
`+r.join(`
`),b=this.blockquote(y);a[a.length-1]=b,s=s.substring(0,s.length-p.raw.length)+b.raw,t=t.substring(0,t.length-p.text.length)+b.text;break}else if(h?.type==="list"){let p=h,y=p.raw+`
`+r.join(`
`),b=this.list(y);a[a.length-1]=b,s=s.substring(0,s.length-h.raw.length)+b.raw,t=t.substring(0,t.length-p.raw.length)+b.raw,r=y.substring(a.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:s,tokens:a,text:t}}}list(l){var e,r;let s=this.rules.block.list.exec(l);if(s){let t=s[1].trim(),a=t.length>1,i={type:"list",raw:"",ordered:a,start:a?+t.slice(0,-1):"",loose:!1,items:[]};t=a?`\\d{1,9}\\${t.slice(-1)}`:`\\${t}`,this.options.pedantic&&(t=a?t:"[*+-]");let n=this.rules.other.listItemRegex(t),c=!1;for(;l;){let u=!1,g="",h="";if(!(s=n.exec(l))||this.rules.block.hr.test(l))break;g=s[0],l=l.substring(g.length);let p=tl(s[2].split(`
`,1)[0],s[1].length),y=l.split(`
`,1)[0],b=!p.trim(),w=0;if(this.options.pedantic?(w=2,h=p.trimStart()):b?w=s[1].length+1:(w=p.search(this.rules.other.nonSpaceChar),w=w>4?1:w,h=p.slice(w),w+=s[1].length),b&&this.rules.other.blankLine.test(y)&&(g+=y+`
`,l=l.substring(y.length+1),u=!0),!u){let q=this.rules.other.nextBulletRegex(w),R=this.rules.other.hrRegex(w),I=this.rules.other.fencesBeginRegex(w),D=this.rules.other.headingBeginRegex(w),j=this.rules.other.htmlBeginRegex(w),H=this.rules.other.blockquoteBeginRegex(w);for(;l;){let Z=l.split(`
`,1)[0],L;if(y=Z,this.options.pedantic?(y=y.replace(this.rules.other.listReplaceNesting,"  "),L=y):L=y.replace(this.rules.other.tabCharGlobal,"    "),I.test(y)||D.test(y)||j.test(y)||H.test(y)||q.test(y)||R.test(y))break;if(L.search(this.rules.other.nonSpaceChar)>=w||!y.trim())h+=`
`+L.slice(w);else{if(b||p.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||I.test(p)||D.test(p)||R.test(p))break;h+=`
`+y}b=!y.trim(),g+=Z+`
`,l=l.substring(Z.length+1),p=L.slice(w)}}i.loose||(c?i.loose=!0:this.rules.other.doubleBlankLine.test(g)&&(c=!0)),i.items.push({type:"list_item",raw:g,task:!!this.options.gfm&&this.rules.other.listIsTask.test(h),loose:!1,text:h,tokens:[]}),i.raw+=g}let o=i.items.at(-1);if(o)o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let u of i.items){if(this.lexer.state.top=!1,u.tokens=this.lexer.blockTokens(u.text,[]),u.task){if(u.text=u.text.replace(this.rules.other.listReplaceTask,""),((e=u.tokens[0])==null?void 0:e.type)==="text"||((r=u.tokens[0])==null?void 0:r.type)==="paragraph"){u.tokens[0].raw=u.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),u.tokens[0].text=u.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let h=this.lexer.inlineQueue.length-1;h>=0;h--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[h].src)){this.lexer.inlineQueue[h].src=this.lexer.inlineQueue[h].src.replace(this.rules.other.listReplaceTask,"");break}}let g=this.rules.other.listTaskCheckbox.exec(u.raw);if(g){let h={type:"checkbox",raw:g[0]+" ",checked:g[0]!=="[ ]"};u.checked=h.checked,i.loose?u.tokens[0]&&["paragraph","text"].includes(u.tokens[0].type)&&"tokens"in u.tokens[0]&&u.tokens[0].tokens?(u.tokens[0].raw=h.raw+u.tokens[0].raw,u.tokens[0].text=h.raw+u.tokens[0].text,u.tokens[0].tokens.unshift(h)):u.tokens.unshift({type:"paragraph",raw:h.raw,text:h.raw,tokens:[h]}):u.tokens.unshift(h)}}if(!i.loose){let g=u.tokens.filter(p=>p.type==="space"),h=g.length>0&&g.some(p=>this.rules.other.anyLine.test(p.raw));i.loose=h}}if(i.loose)for(let u of i.items){u.loose=!0;for(let g of u.tokens)g.type==="text"&&(g.type="paragraph")}return i}}html(l){let e=this.rules.block.html.exec(l);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(l){let e=this.rules.block.def.exec(l);if(e){let r=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),s=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",t=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:r,raw:e[0],href:s,title:t}}}table(l){var e;let r=this.rules.block.table.exec(l);if(!r||!this.rules.other.tableDelimiter.test(r[2]))return;let s=Pe(r[1]),t=r[2].replace(this.rules.other.tableAlignChars,"").split("|"),a=(e=r[3])!=null&&e.trim()?r[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:r[0],header:[],align:[],rows:[]};if(s.length===t.length){for(let n of t)this.rules.other.tableAlignRight.test(n)?i.align.push("right"):this.rules.other.tableAlignCenter.test(n)?i.align.push("center"):this.rules.other.tableAlignLeft.test(n)?i.align.push("left"):i.align.push(null);for(let n=0;n<s.length;n++)i.header.push({text:s[n],tokens:this.lexer.inline(s[n]),header:!0,align:i.align[n]});for(let n of a)i.rows.push(Pe(n,i.header.length).map((c,o)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:i.align[o]})));return i}}lheading(l){let e=this.rules.block.lheading.exec(l);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(l){let e=this.rules.block.paragraph.exec(l);if(e){let r=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:r,tokens:this.lexer.inline(r)}}}text(l){let e=this.rules.block.text.exec(l);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(l){let e=this.rules.inline.escape.exec(l);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(l){let e=this.rules.inline.tag.exec(l);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(l){let e=this.rules.inline.link.exec(l);if(e){let r=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;let a=X(r.slice(0,-1),"\\");if((r.length-a.length)%2===0)return}else{let a=el(e[2],"()");if(a===-2)return;if(a>-1){let i=(e[0].indexOf("!")===0?5:4)+e[1].length+a;e[2]=e[2].substring(0,a),e[0]=e[0].substring(0,i).trim(),e[3]=""}}let s=e[2],t="";if(this.options.pedantic){let a=this.rules.other.pedanticHrefTitle.exec(s);a&&(s=a[1],t=a[3])}else t=e[3]?e[3].slice(1,-1):"";return s=s.trim(),this.rules.other.startAngleBracket.test(s)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?s=s.slice(1):s=s.slice(1,-1)),qe(e,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:t&&t.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(l,e){let r;if((r=this.rules.inline.reflink.exec(l))||(r=this.rules.inline.nolink.exec(l))){let s=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),t=e[s.toLowerCase()];if(!t){let a=r[0].charAt(0);return{type:"text",raw:a,text:a}}return qe(r,t,r[0],this.lexer,this.rules)}}emStrong(l,e,r=""){let s=this.rules.inline.emStrongLDelim.exec(l);if(!(!s||s[3]&&r.match(this.rules.other.unicodeAlphaNumeric))&&(!(s[1]||s[2])||!r||this.rules.inline.punctuation.exec(r))){let t=[...s[0]].length-1,a,i,n=t,c=0,o=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(o.lastIndex=0,e=e.slice(-1*l.length+t);(s=o.exec(e))!=null;){if(a=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!a)continue;if(i=[...a].length,s[3]||s[4]){n+=i;continue}else if((s[5]||s[6])&&t%3&&!((t+i)%3)){c+=i;continue}if(n-=i,n>0)continue;i=Math.min(i,i+n+c);let u=[...s[0]][0].length,g=l.slice(0,t+s.index+u+i);if(Math.min(t,i)%2){let p=g.slice(1,-1);return{type:"em",raw:g,text:p,tokens:this.lexer.inlineTokens(p)}}let h=g.slice(2,-2);return{type:"strong",raw:g,text:h,tokens:this.lexer.inlineTokens(h)}}}}codespan(l){let e=this.rules.inline.code.exec(l);if(e){let r=e[2].replace(this.rules.other.newLineCharGlobal," "),s=this.rules.other.nonSpaceChar.test(r),t=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return s&&t&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:e[0],text:r}}}br(l){let e=this.rules.inline.br.exec(l);if(e)return{type:"br",raw:e[0]}}del(l,e,r=""){let s=this.rules.inline.delLDelim.exec(l);if(s&&(!s[1]||!r||this.rules.inline.punctuation.exec(r))){let t=[...s[0]].length-1,a,i,n=t,c=this.rules.inline.delRDelim;for(c.lastIndex=0,e=e.slice(-1*l.length+t);(s=c.exec(e))!=null;){if(a=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!a||(i=[...a].length,i!==t))continue;if(s[3]||s[4]){n+=i;continue}if(n-=i,n>0)continue;i=Math.min(i,i+n);let o=[...s[0]][0].length,u=l.slice(0,t+s.index+o+i),g=u.slice(t,-t);return{type:"del",raw:u,text:g,tokens:this.lexer.inlineTokens(g)}}}}autolink(l){let e=this.rules.inline.autolink.exec(l);if(e){let r,s;return e[2]==="@"?(r=e[1],s="mailto:"+r):(r=e[1],s=r),{type:"link",raw:e[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}url(l){var e;let r;if(r=this.rules.inline.url.exec(l)){let s,t;if(r[2]==="@")s=r[0],t="mailto:"+s;else{let a;do a=r[0],r[0]=((e=this.rules.inline._backpedal.exec(r[0]))==null?void 0:e[0])??"";while(a!==r[0]);s=r[0],r[1]==="www."?t="http://"+r[0]:t=r[0]}return{type:"link",raw:r[0],text:s,href:t,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(l){let e=this.rules.inline.text.exec(l);if(e){let r=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:r}}}},N=class pe{constructor(e){$(this,"tokens"),$(this,"options"),$(this,"state"),$(this,"inlineQueue"),$(this,"tokenizer"),this.tokens=[],this.tokens.links=Object.create(null),this.options=e||O,this.options.tokenizer=this.options.tokenizer||new re,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:P,block:ee.normal,inline:G.normal};this.options.pedantic?(r.block=ee.pedantic,r.inline=G.pedantic):this.options.gfm&&(r.block=ee.gfm,this.options.breaks?r.inline=G.breaks:r.inline=G.gfm),this.tokenizer.rules=r}static get rules(){return{block:ee,inline:G}}static lex(e,r){return new pe(r).lex(e)}static lexInline(e,r){return new pe(r).inlineTokens(e)}lex(e){e=e.replace(P.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let s=this.inlineQueue[r];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,r=[],s=!1){var t,a,i;for(this.options.pedantic&&(e=e.replace(P.tabCharGlobal,"    ").replace(P.spaceLine,""));e;){let n;if((a=(t=this.options.extensions)==null?void 0:t.block)!=null&&a.some(o=>(n=o.call({lexer:this},e,r))?(e=e.substring(n.raw.length),r.push(n),!0):!1))continue;if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length);let o=r.at(-1);n.raw.length===1&&o!==void 0?o.raw+=`
`:r.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length);let o=r.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+n.raw,o.text+=`
`+n.text,this.inlineQueue.at(-1).src=o.text):r.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length);let o=r.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+n.raw,o.text+=`
`+n.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title},r.push(n));continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),r.push(n);continue}let c=e;if((i=this.options.extensions)!=null&&i.startBlock){let o=1/0,u=e.slice(1),g;this.options.extensions.startBlock.forEach(h=>{g=h.call({lexer:this},u),typeof g=="number"&&g>=0&&(o=Math.min(o,g))}),o<1/0&&o>=0&&(c=e.substring(0,o+1))}if(this.state.top&&(n=this.tokenizer.paragraph(c))){let o=r.at(-1);s&&o?.type==="paragraph"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+n.raw,o.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):r.push(n),s=c.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length);let o=r.at(-1);o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+n.raw,o.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):r.push(n);continue}if(e){let o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,r}inline(e,r=[]){return this.inlineQueue.push({src:e,tokens:r}),r}inlineTokens(e,r=[]){var s,t,a,i,n;let c=e,o=null;if(this.tokens.links){let p=Object.keys(this.tokens.links);if(p.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(c))!=null;)p.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.anyPunctuation.exec(c))!=null;)c=c.slice(0,o.index)+"++"+c.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let u;for(;(o=this.tokenizer.rules.inline.blockSkip.exec(c))!=null;)u=o[2]?o[2].length:0,c=c.slice(0,o.index+u)+"["+"a".repeat(o[0].length-u-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);c=((t=(s=this.options.hooks)==null?void 0:s.emStrongMask)==null?void 0:t.call({lexer:this},c))??c;let g=!1,h="";for(;e;){g||(h=""),g=!1;let p;if((i=(a=this.options.extensions)==null?void 0:a.inline)!=null&&i.some(b=>(p=b.call({lexer:this},e,r))?(e=e.substring(p.raw.length),r.push(p),!0):!1))continue;if(p=this.tokenizer.escape(e)){e=e.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.tag(e)){e=e.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.link(e)){e=e.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(p.raw.length);let b=r.at(-1);p.type==="text"&&b?.type==="text"?(b.raw+=p.raw,b.text+=p.text):r.push(p);continue}if(p=this.tokenizer.emStrong(e,c,h)){e=e.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.codespan(e)){e=e.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.br(e)){e=e.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.del(e,c,h)){e=e.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.autolink(e)){e=e.substring(p.raw.length),r.push(p);continue}if(!this.state.inLink&&(p=this.tokenizer.url(e))){e=e.substring(p.raw.length),r.push(p);continue}let y=e;if((n=this.options.extensions)!=null&&n.startInline){let b=1/0,w=e.slice(1),q;this.options.extensions.startInline.forEach(R=>{q=R.call({lexer:this},w),typeof q=="number"&&q>=0&&(b=Math.min(b,q))}),b<1/0&&b>=0&&(y=e.substring(0,b+1))}if(p=this.tokenizer.inlineText(y)){e=e.substring(p.raw.length),p.raw.slice(-1)!=="_"&&(h=p.raw.slice(-1)),g=!0;let b=r.at(-1);b?.type==="text"?(b.raw+=p.raw,b.text+=p.text):r.push(p);continue}if(e){let b="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(b);break}else throw new Error(b)}}return r}},se=class{constructor(l){$(this,"options"),$(this,"parser"),this.options=l||O}space(l){return""}code({text:l,lang:e,escaped:r}){var s;let t=(s=(e||"").match(P.notSpaceStart))==null?void 0:s[0],a=l.replace(P.endingNewline,"")+`
`;return t?'<pre><code class="language-'+B(t)+'">'+(r?a:B(a,!0))+`</code></pre>
`:"<pre><code>"+(r?a:B(a,!0))+`</code></pre>
`}blockquote({tokens:l}){return`<blockquote>
${this.parser.parse(l)}</blockquote>
`}html({text:l}){return l}def(l){return""}heading({tokens:l,depth:e}){return`<h${e}>${this.parser.parseInline(l)}</h${e}>
`}hr(l){return`<hr>
`}list(l){let e=l.ordered,r=l.start,s="";for(let i=0;i<l.items.length;i++){let n=l.items[i];s+=this.listitem(n)}let t=e?"ol":"ul",a=e&&r!==1?' start="'+r+'"':"";return"<"+t+a+`>
`+s+"</"+t+`>
`}listitem(l){return`<li>${this.parser.parse(l.tokens)}</li>
`}checkbox({checked:l}){return"<input "+(l?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:l}){return`<p>${this.parser.parseInline(l)}</p>
`}table(l){let e="",r="";for(let t=0;t<l.header.length;t++)r+=this.tablecell(l.header[t]);e+=this.tablerow({text:r});let s="";for(let t=0;t<l.rows.length;t++){let a=l.rows[t];r="";for(let i=0;i<a.length;i++)r+=this.tablecell(a[i]);s+=this.tablerow({text:r})}return s&&(s=`<tbody>${s}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+s+`</table>
`}tablerow({text:l}){return`<tr>
${l}</tr>
`}tablecell(l){let e=this.parser.parseInline(l.tokens),r=l.header?"th":"td";return(l.align?`<${r} align="${l.align}">`:`<${r}>`)+e+`</${r}>
`}strong({tokens:l}){return`<strong>${this.parser.parseInline(l)}</strong>`}em({tokens:l}){return`<em>${this.parser.parseInline(l)}</em>`}codespan({text:l}){return`<code>${B(l,!0)}</code>`}br(l){return"<br>"}del({tokens:l}){return`<del>${this.parser.parseInline(l)}</del>`}link({href:l,title:e,tokens:r}){let s=this.parser.parseInline(r),t=ze(l);if(t===null)return s;l=t;let a='<a href="'+l+'"';return e&&(a+=' title="'+B(e)+'"'),a+=">"+s+"</a>",a}image({href:l,title:e,text:r,tokens:s}){s&&(r=this.parser.parseInline(s,this.parser.textRenderer));let t=ze(l);if(t===null)return B(r);l=t;let a=`<img src="${l}" alt="${B(r)}"`;return e&&(a+=` title="${B(e)}"`),a+=">",a}text(l){return"tokens"in l&&l.tokens?this.parser.parseInline(l.tokens):"escaped"in l&&l.escaped?l.text:B(l.text)}},ye=class{strong({text:l}){return l}em({text:l}){return l}codespan({text:l}){return l}del({text:l}){return l}html({text:l}){return l}text({text:l}){return l}link({text:l}){return""+l}image({text:l}){return""+l}br(){return""}checkbox({raw:l}){return l}},E=class ue{constructor(e){$(this,"options"),$(this,"renderer"),$(this,"textRenderer"),this.options=e||O,this.options.renderer=this.options.renderer||new se,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new ye}static parse(e,r){return new ue(r).parse(e)}static parseInline(e,r){return new ue(r).parseInline(e)}parse(e){var r,s;let t="";for(let a=0;a<e.length;a++){let i=e[a];if((s=(r=this.options.extensions)==null?void 0:r.renderers)!=null&&s[i.type]){let c=i,o=this.options.extensions.renderers[c.type].call({parser:this},c);if(o!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(c.type)){t+=o||"";continue}}let n=i;switch(n.type){case"space":{t+=this.renderer.space(n);break}case"hr":{t+=this.renderer.hr(n);break}case"heading":{t+=this.renderer.heading(n);break}case"code":{t+=this.renderer.code(n);break}case"table":{t+=this.renderer.table(n);break}case"blockquote":{t+=this.renderer.blockquote(n);break}case"list":{t+=this.renderer.list(n);break}case"checkbox":{t+=this.renderer.checkbox(n);break}case"html":{t+=this.renderer.html(n);break}case"def":{t+=this.renderer.def(n);break}case"paragraph":{t+=this.renderer.paragraph(n);break}case"text":{t+=this.renderer.text(n);break}default:{let c='Token with "'+n.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return t}parseInline(e,r=this.renderer){var s,t;let a="";for(let i=0;i<e.length;i++){let n=e[i];if((t=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&t[n.type]){let o=this.options.extensions.renderers[n.type].call({parser:this},n);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(n.type)){a+=o||"";continue}}let c=n;switch(c.type){case"escape":{a+=r.text(c);break}case"html":{a+=r.html(c);break}case"link":{a+=r.link(c);break}case"image":{a+=r.image(c);break}case"checkbox":{a+=r.checkbox(c);break}case"strong":{a+=r.strong(c);break}case"em":{a+=r.em(c);break}case"codespan":{a+=r.codespan(c);break}case"br":{a+=r.br(c);break}case"del":{a+=r.del(c);break}case"text":{a+=r.text(c);break}default:{let o='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return a}},te,F=(te=class{constructor(l){$(this,"options"),$(this,"block"),this.options=l||O}preprocess(l){return l}postprocess(l){return l}processAllTokens(l){return l}emStrongMask(l){return l}provideLexer(){return this.block?N.lex:N.lexInline}provideParser(){return this.block?E.parse:E.parseInline}},$(te,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),$(te,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),te),rl=class{constructor(...l){$(this,"defaults",he()),$(this,"options",this.setOptions),$(this,"parse",this.parseMarkdown(!0)),$(this,"parseInline",this.parseMarkdown(!1)),$(this,"Parser",E),$(this,"Renderer",se),$(this,"TextRenderer",ye),$(this,"Lexer",N),$(this,"Tokenizer",re),$(this,"Hooks",F),this.use(...l)}walkTokens(l,e){var r,s;let t=[];for(let a of l)switch(t=t.concat(e.call(this,a)),a.type){case"table":{let i=a;for(let n of i.header)t=t.concat(this.walkTokens(n.tokens,e));for(let n of i.rows)for(let c of n)t=t.concat(this.walkTokens(c.tokens,e));break}case"list":{let i=a;t=t.concat(this.walkTokens(i.items,e));break}default:{let i=a;(s=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&s[i.type]?this.defaults.extensions.childTokens[i.type].forEach(n=>{let c=i[n].flat(1/0);t=t.concat(this.walkTokens(c,e))}):i.tokens&&(t=t.concat(this.walkTokens(i.tokens,e)))}}return t}use(...l){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return l.forEach(r=>{let s={...r};if(s.async=this.defaults.async||s.async||!1,r.extensions&&(r.extensions.forEach(t=>{if(!t.name)throw new Error("extension name required");if("renderer"in t){let a=e.renderers[t.name];a?e.renderers[t.name]=function(...i){let n=t.renderer.apply(this,i);return n===!1&&(n=a.apply(this,i)),n}:e.renderers[t.name]=t.renderer}if("tokenizer"in t){if(!t.level||t.level!=="block"&&t.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let a=e[t.level];a?a.unshift(t.tokenizer):e[t.level]=[t.tokenizer],t.start&&(t.level==="block"?e.startBlock?e.startBlock.push(t.start):e.startBlock=[t.start]:t.level==="inline"&&(e.startInline?e.startInline.push(t.start):e.startInline=[t.start]))}"childTokens"in t&&t.childTokens&&(e.childTokens[t.name]=t.childTokens)}),s.extensions=e),r.renderer){let t=this.defaults.renderer||new se(this.defaults);for(let a in r.renderer){if(!(a in t))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;let i=a,n=r.renderer[i],c=t[i];t[i]=(...o)=>{let u=n.apply(t,o);return u===!1&&(u=c.apply(t,o)),u||""}}s.renderer=t}if(r.tokenizer){let t=this.defaults.tokenizer||new re(this.defaults);for(let a in r.tokenizer){if(!(a in t))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;let i=a,n=r.tokenizer[i],c=t[i];t[i]=(...o)=>{let u=n.apply(t,o);return u===!1&&(u=c.apply(t,o)),u}}s.tokenizer=t}if(r.hooks){let t=this.defaults.hooks||new F;for(let a in r.hooks){if(!(a in t))throw new Error(`hook '${a}' does not exist`);if(["options","block"].includes(a))continue;let i=a,n=r.hooks[i],c=t[i];F.passThroughHooks.has(a)?t[i]=o=>{if(this.defaults.async&&F.passThroughHooksRespectAsync.has(a))return(async()=>{let g=await n.call(t,o);return c.call(t,g)})();let u=n.call(t,o);return c.call(t,u)}:t[i]=(...o)=>{if(this.defaults.async)return(async()=>{let g=await n.apply(t,o);return g===!1&&(g=await c.apply(t,o)),g})();let u=n.apply(t,o);return u===!1&&(u=c.apply(t,o)),u}}s.hooks=t}if(r.walkTokens){let t=this.defaults.walkTokens,a=r.walkTokens;s.walkTokens=function(i){let n=[];return n.push(a.call(this,i)),t&&(n=n.concat(t.call(this,i))),n}}this.defaults={...this.defaults,...s}}),this}setOptions(l){return this.defaults={...this.defaults,...l},this}lexer(l,e){return N.lex(l,e??this.defaults)}parser(l,e){return E.parse(l,e??this.defaults)}parseMarkdown(l){return(e,r)=>{let s={...r},t={...this.defaults,...s},a=this.onError(!!t.silent,!!t.async);if(this.defaults.async===!0&&s.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(t.hooks&&(t.hooks.options=t,t.hooks.block=l),t.async)return(async()=>{let i=t.hooks?await t.hooks.preprocess(e):e,n=await(t.hooks?await t.hooks.provideLexer():l?N.lex:N.lexInline)(i,t),c=t.hooks?await t.hooks.processAllTokens(n):n;t.walkTokens&&await Promise.all(this.walkTokens(c,t.walkTokens));let o=await(t.hooks?await t.hooks.provideParser():l?E.parse:E.parseInline)(c,t);return t.hooks?await t.hooks.postprocess(o):o})().catch(a);try{t.hooks&&(e=t.hooks.preprocess(e));let i=(t.hooks?t.hooks.provideLexer():l?N.lex:N.lexInline)(e,t);t.hooks&&(i=t.hooks.processAllTokens(i)),t.walkTokens&&this.walkTokens(i,t.walkTokens);let n=(t.hooks?t.hooks.provideParser():l?E.parse:E.parseInline)(i,t);return t.hooks&&(n=t.hooks.postprocess(n)),n}catch(i){return a(i)}}}onError(l,e){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,l){let s="<p>An error occurred:</p><pre>"+B(r.message+"",!0)+"</pre>";return e?Promise.resolve(s):s}if(e)return Promise.reject(r);throw r}}},Q=new rl;function v(l,e){return Q.parse(l,e)}v.options=v.setOptions=function(l){return Q.setOptions(l),v.defaults=Q.defaults,_e(v.defaults),v};v.getDefaults=he;v.defaults=O;v.use=function(...l){return Q.use(...l),v.defaults=Q.defaults,_e(v.defaults),v};v.walkTokens=function(l,e){return Q.walkTokens(l,e)};v.parseInline=Q.parseInline;v.Parser=E;v.parser=E.parse;v.Renderer=se;v.TextRenderer=ye;v.Lexer=N;v.lexer=N.lex;v.Tokenizer=re;v.Hooks=F;v.parse=v;v.options;v.setOptions;v.use;v.walkTokens;v.parseInline;E.parse;N.lex;const sl={class:"max-w-6xl mx-auto"},al={class:"flex items-center justify-between mb-6"},nl={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},il={class:"space-y-6"},ol={class:"card"},cl={class:"grid grid-cols-2 sm:grid-cols-3 gap-2"},pl=["onClick"],ul={class:"text-xl"},hl={class:"mt-1 font-medium text-sm"},dl={class:"card"},gl={class:"flex flex-wrap gap-2"},kl=["onClick"],fl={class:"card"},bl={class:"space-y-4"},xl={class:"block text-sm font-medium text-gray-700 mb-1"},ml={key:0,class:"text-danger-500"},yl=["onUpdate:modelValue","placeholder"],wl=["onUpdate:modelValue","placeholder","rows"],vl=["onUpdate:modelValue"],$l=["value"],Rl={class:"flex gap-3"},Sl=["disabled"],Tl={key:0,class:"animate-spin mr-2"},Al={key:1,class:"mr-2"},zl={key:0,class:"bg-danger-50 text-danger-700 p-4 rounded-lg"},Pl={class:"card min-h-[500px] flex flex-col"},ql={class:"flex items-center justify-between mb-4"},Il={class:"flex-1 overflow-auto"},_l={key:0,class:"flex items-center justify-center h-full"},Cl=["innerHTML"],Nl={key:2,class:"flex items-center justify-center h-full text-gray-500 dark:text-gray-400"},El={class:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-md"},Ll={class:"p-6 space-y-4"},Bl={class:"text-sm text-gray-500 dark:text-gray-400"},Dl={class:"mt-2 list-disc list-inside"},jl={class:"p-6 border-t border-gray-200 dark:border-gray-700 flex gap-3"},Ie="user-templates",Ql=Ke({__name:"ContentCreatorView",setup(l){const e=nt(),r=it(),s=Ye(),t=et(),a=_([]),i=()=>{try{const m=localStorage.getItem(Ie);m&&(a.value=JSON.parse(m))}catch(m){console.error("加载用户模板失败:",m)}},n=m=>{a.value.unshift(m),localStorage.setItem(Ie,JSON.stringify(a.value))},c=_(!1),o=_(""),u=()=>{o.value="",c.value=!0},g=()=>{if(!o.value.trim()){alert("请输入模板名称");return}const m={id:`user-${Date.now()}`,name:o.value.trim(),contentType:w.value,platform:q.value,fields:{...R.value},createdAt:Date.now()};n(m),c.value=!1,alert("模板保存成功！")},h=_(""),p=m=>{H.value=!0,w.value=m.contentType,q.value=m.platform,setTimeout(()=>{L(),R.value={...R.value,...m.fields},m.prompt&&(h.value=m.prompt),H.value=!1},100)};we(()=>{i();const m=e.query.templateData;if(m)try{const f=JSON.parse(decodeURIComponent(m));p(f),r.replace({path:e.path})}catch(f){console.error("解析模板数据失败:",f)}});const y=[{type:"product-title",name:"商品标题",description:"生成吸引人的商品标题，优化搜索排名",icon:"🏷️",template:"",fields:[{key:"productName",label:"商品名称",type:"text",placeholder:"如：无线蓝牙耳机",required:!0},{key:"category",label:"商品类目",type:"text",placeholder:"如：数码配件/耳机"},{key:"sellingPoints",label:"核心卖点",type:"textarea",placeholder:"如：降噪、续航长、音质好",rows:2},{key:"targetAudience",label:"目标人群",type:"text",placeholder:"如：年轻上班族、学生"},{key:"priceRange",label:"价格区间",type:"text",placeholder:"如：100-300元"},{key:"additionalRequirements",label:"其他要求",type:"textarea",placeholder:"其他特殊要求",rows:2}]},{type:"product-desc",name:"商品描述",description:"创作详情页文案，提升转化率",icon:"📋",template:"",fields:[{key:"productName",label:"商品名称",type:"text",placeholder:"如：无线蓝牙耳机",required:!0},{key:"category",label:"商品类目",type:"text",placeholder:"如：数码配件/耳机"},{key:"sellingPoints",label:"核心卖点",type:"textarea",placeholder:"详细描述产品特点",rows:3},{key:"targetAudience",label:"目标人群",type:"text",placeholder:"如：年轻上班族"},{key:"price",label:"商品价格",type:"text",placeholder:"如：199元"},{key:"specifications",label:"规格参数",type:"textarea",placeholder:"如：颜色、尺寸、材质等",rows:2},{key:"additionalRequirements",label:"其他要求",type:"textarea",placeholder:"其他特殊要求",rows:2}]},{type:"short-video",name:"短视频脚本",description:"创作抖音/快手爆款视频脚本",icon:"🎬",template:"",fields:[{key:"topic",label:"视频主题",type:"text",placeholder:"如：产品开箱、使用教程",required:!0},{key:"product",label:"产品/服务",type:"text",placeholder:"要推广的产品或服务"},{key:"duration",label:"视频时长",type:"select",options:[{label:"15-30秒",value:"15-30秒"},{label:"30-60秒",value:"30-60秒"},{label:"1-3分钟",value:"1-3分钟"},{label:"3分钟以上",value:"3分钟以上"}]},{key:"objective",label:"目标效果",type:"select",options:[{label:"提升品牌曝光",value:"提升品牌曝光"},{label:"产品种草",value:"产品种草"},{label:"引导购买",value:"引导购买"},{label:"粉丝互动",value:"粉丝互动"}]},{key:"style",label:"风格要求",type:"select",options:[{label:"轻松有趣",value:"轻松有趣"},{label:"专业科普",value:"专业科普"},{label:"情感共鸣",value:"情感共鸣"},{label:"快节奏爽文",value:"快节奏爽文"}]},{key:"additionalRequirements",label:"其他要求",type:"textarea",placeholder:"其他特殊要求",rows:2}]},{type:"live-script",name:"直播话术",description:"专业的直播带货话术生成",icon:"🎤",template:"",fields:[{key:"productName",label:"产品名称",type:"text",placeholder:"要直播销售的产品",required:!0},{key:"liveType",label:"直播类型",type:"select",options:[{label:"新品首发",value:"新品首发"},{label:"日常带货",value:"日常带货"},{label:"专场活动",value:"专场活动"},{label:"清仓特卖",value:"清仓特卖"}]},{key:"price",label:"产品价格",type:"text",placeholder:"如：原价299，直播价199"},{key:"promotion",label:"优惠活动",type:"text",placeholder:"如：买一送一、限时折扣"},{key:"scene",label:"话术环节",type:"select",options:[{label:"开场暖场",value:"开场暖场"},{label:"产品介绍",value:"产品介绍"},{label:"互动答疑",value:"互动答疑"},{label:"促单逼单",value:"促单逼单"},{label:"完整话术",value:"完整话术"}]},{key:"additionalRequirements",label:"其他要求",type:"textarea",placeholder:"其他特殊要求",rows:2}]},{type:"marketing-copy",name:"营销文案",description:"活动促销、节日营销文案",icon:"📢",template:"",fields:[{key:"activityType",label:"活动类型",type:"select",options:[{label:"限时折扣",value:"限时折扣"},{label:"满减优惠",value:"满减优惠"},{label:"节日营销",value:"节日营销"},{label:"新品上市",value:"新品上市"},{label:"会员专享",value:"会员专享"}]},{key:"theme",label:"活动主题",type:"text",placeholder:"如：双十一狂欢节",required:!0},{key:"discount",label:"优惠内容",type:"textarea",placeholder:"详细描述优惠活动内容",rows:2},{key:"timeRange",label:"活动时间",type:"text",placeholder:"如：11月1日-11月11日"},{key:"targetAudience",label:"目标人群",type:"text",placeholder:"如：新老客户"},{key:"channel",label:"投放渠道",type:"select",options:[{label:"朋友圈",value:"朋友圈"},{label:"社群",value:"社群"},{label:"短信",value:"短信"},{label:"公众号",value:"公众号"},{label:"小红书",value:"小红书"}]},{key:"additionalRequirements",label:"其他要求",type:"textarea",placeholder:"其他特殊要求",rows:2}]},{type:"customer-service",name:"客服话术",description:"专业的客服回复话术",icon:"💬",template:"",fields:[{key:"issueType",label:"问题类型",type:"select",options:[{label:"售前咨询",value:"售前咨询"},{label:"物流查询",value:"物流查询"},{label:"售后退换",value:"售后退换"},{label:"投诉处理",value:"投诉处理"},{label:"催付挽留",value:"催付挽留"}]},{key:"userQuestion",label:"用户问题",type:"textarea",placeholder:"用户的具体问题或诉求",rows:2,required:!0},{key:"productInfo",label:"商品信息",type:"text",placeholder:"相关商品信息"},{key:"principle",label:"处理原则",type:"select",options:[{label:"客户至上",value:"客户至上"},{label:"坚持规则",value:"坚持规则"},{label:"灵活处理",value:"灵活处理"}]},{key:"additionalRequirements",label:"其他要求",type:"textarea",placeholder:"其他特殊要求",rows:2}]},{type:"social-media",name:"社媒文案",description:"小红书、朋友圈、社群文案",icon:"📱",template:"",fields:[{key:"topic",label:"内容主题",type:"text",placeholder:"如：好物分享、使用心得",required:!0},{key:"contentType",label:"内容类型",type:"select",options:[{label:"图文种草",value:"图文种草"},{label:"产品测评",value:"产品测评"},{label:"使用教程",value:"使用教程"},{label:"晒单分享",value:"晒单分享"},{label:"品牌故事",value:"品牌故事"}]},{key:"product",label:"产品/品牌",type:"text",placeholder:"要推广的产品或品牌"},{key:"tone",label:"语气风格",type:"select",options:[{label:"亲切真实",value:"亲切真实"},{label:"专业权威",value:"专业权威"},{label:"幽默风趣",value:"幽默风趣"},{label:"高端精致",value:"高端精致"}]},{key:"keyPoints",label:"重点内容",type:"textarea",placeholder:"希望突出的重点信息",rows:2},{key:"additionalRequirements",label:"其他要求",type:"textarea",placeholder:"其他特殊要求",rows:2}]}],b=[{value:"taobao",label:"淘宝",icon:"🛒"},{value:"tmall",label:"天猫",icon:"🐱"},{value:"jd",label:"京东",icon:"📦"},{value:"pdd",label:"拼多多",icon:"🍊"},{value:"douyin",label:"抖音",icon:"🎵"},{value:"kuaishou",label:"快手",icon:"⚡"},{value:"xiaohongshu",label:"小红书",icon:"📕"},{value:"weixin",label:"微信",icon:"💬"},{value:"other",label:"其他",icon:"📱"}],w=_("product-title"),q=_("taobao"),R=_({}),I=_(""),D=_(!1),j=_(""),H=_(!1),Z=ve(()=>y.find(m=>m.type===w.value)||y[0]),L=()=>{const m=Z.value.fields,f={};m.forEach(A=>{var k;A.type==="select"&&(k=A.options)!=null&&k.length?f[A.key]=A.options[0].value:f[A.key]=""}),R.value=f};tt(w,()=>{H.value||L(),I.value="",j.value=""});const He=async()=>{var m;if(!s.isConfigured){j.value="请先在设置页面配置 AI API";return}const f=Z.value.fields.find(A=>A.required&&!R.value[A.key]);if(f){j.value=`请填写${f.label}`;return}D.value=!0,j.value="",I.value="";try{const A=s.getService();let k,z;if(h.value){k="你是一位专业的电商文案专家，擅长创作高转化率的文案。";let U=h.value;for(const[Je,We]of Object.entries(R.value))U=U.replace(new RegExp(`\\{${Je}\\}`,"g"),We||"");z=U}else k=gt(w.value),z=dt(w.value,R.value,q.value);let ie="";for await(const U of A.chatStream([{role:"user",content:z}],k))ie+=U,I.value=ie;const Fe=R.value[(m=Z.value.fields[0])==null?void 0:m.key]||"未命名内容";t.addContent({type:w.value,platform:q.value,title:Fe,content:ie,params:{...R.value}})}catch(A){j.value=A instanceof Error?A.message:"生成失败，请重试"}finally{D.value=!1}},Ue=async()=>{try{await navigator.clipboard.writeText(I.value),alert("已复制到剪贴板")}catch{alert("复制失败")}},Ve=ve(()=>I.value?v(I.value):""),Ge={"beauty-title":{prompt:`你是一位美妆文案专家。请为以下美妆产品创作吸引人的商品标题：
产品名称：{productName}
核心卖点：{sellingPoints}
适用肤质：{targetSkin}
价格：{price}

要求：突出产品功效、使用场景，符合小红书/抖音种草风格，包含热门关键词。`,fields:{productName:"",sellingPoints:"",targetSkin:"",price:""}},"beauty-desc":{prompt:`你是一位资深美妆文案策划。请为以下产品创作详情页文案：
产品名称：{productName}
核心成分：{ingredients}
主要功效：{benefits}
使用方法：{usage}

要求：包含成分科普、使用步骤、效果展示，语气专业但亲切。`,fields:{productName:"",ingredients:"",benefits:"",usage:""}},"beauty-video":{prompt:`你是一位美妆博主视频脚本策划。请创作以下类型的视频脚本：
产品名称：{productName}
视频类型：{videoType}
时长：{duration}

要求：开头3秒吸睛，包含产品展示、使用演示、效果对比，引导互动。`,fields:{productName:"",videoType:"",duration:""}},"fashion-title":{prompt:`你是一位时尚电商文案专家。请为以下服饰产品创作标题：
产品名称：{productName}
风格定位：{style}
适用季节：{season}
价格：{price}

要求：突出款式特点、搭配建议，吸引目标人群，包含季节关键词。`,fields:{productName:"",style:"",season:"",price:""}},"fashion-live":{prompt:`你是一位服装直播运营专家。请创作直播带货话术：
产品名称：{productName}
核心卖点：{sellingPoints}
优惠信息：{price}
尺码建议：{feature}

要求：包含上身展示、面料介绍、尺码推荐、促单话术。`,fields:{productName:"",sellingPoints:"",price:"",feature:""}},"digital-title":{prompt:`你是一位数码产品文案专家。请为以下产品创作标题：
产品名称：{productName}
核心参数：{specs}
目标用户：{targetUser}
价格：{price}

要求：突出核心参数、性能优势，针对科技爱好者或普通用户。`,fields:{productName:"",specs:"",targetUser:"",price:""}},"digital-review":{prompt:`你是一位数码博主脚本策划。请创作评测视频脚本：
产品名称：{productName}
评测类型：{reviewType}
优点：{pros}
缺点：{cons}

要求：专业客观，包含开箱、测试、总结，给出购买建议。`,fields:{productName:"",reviewType:"",pros:"",cons:""}},"food-title":{prompt:`你是一位食品电商文案专家。请为以下食品创作标题：
产品名称：{productName}
口味特点：{taste}
产地：{origin}
价格：{price}

要求：突出新鲜、美味、健康，刺激食欲，包含场景关键词。`,fields:{productName:"",taste:"",origin:"",price:""}},"food-desc":{prompt:`你是一位食品文案策划。请创作食品详情页：
产品名称：{productName}
配料表：{ingredients}
营养成分：{benefits}
储存方法：{usage}

要求：突出食材来源、制作工艺、食用场景，增加信任感。`,fields:{productName:"",ingredients:"",benefits:"",usage:""}},"home-title":{prompt:`你是一位家居电商文案专家。请创作标题：
产品名称：{productName}
材质：{material}
风格：{style}
价格：{price}

要求：突出品质、实用、美观，营造居家氛围。`,fields:{productName:"",material:"",style:"",price:""}},"mother-title":{prompt:`你是一位母婴电商文案专家。请创作标题：
产品名称：{productName}
适用年龄：{ageRange}
核心特点：{feature}
价格：{price}

要求：突出安全、品质、成长，让妈妈放心。`,fields:{productName:"",ageRange:"",feature:"",price:""}},"sports-title":{prompt:`你是一位运动电商文案专家。请创作标题：
产品名称：{productName}
运动类型：{sport}
核心特点：{feature}
价格：{price}

要求：突出专业、舒适、性能，激发运动热情。`,fields:{productName:"",sport:"",feature:"",price:""}},"pet-title":{prompt:`你是一位宠物电商文案专家。请创作标题：
产品名称：{productName}
适用宠物：{petType}
核心特点：{feature}
价格：{price}

要求：突出关爱、健康、快乐，引起铲屎官共鸣。`,fields:{productName:"",petType:"",feature:"",price:""}}},Xe=m=>{Ge[m]&&L()};return we(()=>{L();const m=e.query.type;m&&y.some(A=>A.type===m)&&(w.value=m);const f=e.query.template;f&&Xe(f)}),(m,f)=>{var A;return T(),S("div",sl,[d("div",al,[f[3]||(f[3]=d("h2",{class:"text-xl font-bold text-gray-800 dark:text-gray-200"}," 内容创作 ",-1)),lt(ct,{"model-type":"text","show-label":!0,size:"md"})]),d("div",nl,[d("div",il,[d("div",ol,[f[4]||(f[4]=d("h3",{class:"font-semibold text-gray-800 dark:text-gray-200 mb-4"}," 选择内容类型 ",-1)),d("div",cl,[(T(),S(W,null,K(y,k=>d("button",{key:k.type,class:Re(["p-3 rounded-lg border-2 transition-all text-left",w.value===k.type?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"]),onClick:z=>w.value=k.type},[d("span",ul,C(k.icon),1),d("div",hl,C(k.name),1)],10,pl)),64))])]),d("div",dl,[f[5]||(f[5]=d("h3",{class:"font-semibold text-gray-800 dark:text-gray-200 mb-4"}," 选择平台 ",-1)),d("div",gl,[(T(),S(W,null,K(b,k=>d("button",{key:k.value,class:Re(["px-3 py-1.5 rounded-full border-2 text-sm transition-all",q.value===k.value?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 hover:border-gray-300"]),onClick:z=>q.value=k.value},C(k.icon)+" "+C(k.label),11,kl)),64))])]),d("div",fl,[f[6]||(f[6]=d("h3",{class:"font-semibold text-gray-800 mb-4"}," 填写信息 ",-1)),d("div",bl,[(T(!0),S(W,null,K(Z.value.fields,k=>(T(),S("div",{key:k.key},[d("label",xl,[$e(C(k.label)+" ",1),k.required?(T(),S("span",ml,"*")):V("",!0)]),k.type==="text"?Y((T(),S("input",{key:0,"onUpdate:modelValue":z=>R.value[k.key]=z,type:"text",placeholder:k.placeholder,class:"input"},null,8,yl)),[[oe,R.value[k.key]]]):k.type==="textarea"?Y((T(),S("textarea",{key:1,"onUpdate:modelValue":z=>R.value[k.key]=z,placeholder:k.placeholder,rows:k.rows||3,class:"input resize-none"},null,8,wl)),[[oe,R.value[k.key]]]):k.type==="select"?Y((T(),S("select",{key:2,"onUpdate:modelValue":z=>R.value[k.key]=z,class:"input"},[(T(!0),S(W,null,K(k.options,z=>(T(),S("option",{key:z.value,value:z.value},C(z.label),9,$l))),128))],8,vl)),[[ot,R.value[k.key]]]):V("",!0)]))),128))])]),d("div",Rl,[d("button",{disabled:D.value||!rt(s).isConfigured,class:"btn-primary flex-1 py-3 text-lg",onClick:He},[D.value?(T(),S("span",Tl,"⏳")):(T(),S("span",Al,"✨")),$e(" "+C(D.value?"生成中...":"生成内容"),1)],8,Sl),d("button",{class:"btn-secondary py-3 text-lg px-4",title:"保存当前填写内容为模板",onClick:u}," 💾 ")]),j.value?(T(),S("div",zl,C(j.value),1)):V("",!0)]),d("div",Pl,[d("div",ql,[f[7]||(f[7]=d("h3",{class:"font-semibold text-gray-800"}," 生成结果 ",-1)),I.value?(T(),S("button",{key:0,class:"btn-secondary text-sm",onClick:Ue}," 📋 复制 ")):V("",!0)]),d("div",Il,[D.value&&!I.value?(T(),S("div",_l,[...f[8]||(f[8]=[d("div",{class:"text-center text-gray-500 dark:text-gray-400"},[d("span",{class:"text-4xl animate-pulse"},"🤖"),d("p",{class:"mt-2"}," AI 正在创作中... ")],-1)])])):I.value?(T(),S("div",{key:1,class:"prose prose-sm max-w-none dark:prose-invert",innerHTML:Ve.value},null,8,Cl)):(T(),S("div",Nl,[...f[9]||(f[9]=[d("div",{class:"text-center"},[d("span",{class:"text-4xl"},"📝"),d("p",{class:"mt-2"}," 填写左侧信息后点击生成 ")],-1)])]))])])]),c.value?(T(),S("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:f[2]||(f[2]=st(k=>c.value=!1,["self"]))},[d("div",El,[f[12]||(f[12]=d("div",{class:"p-6 border-b border-gray-200 dark:border-gray-700"},[d("h3",{class:"text-lg font-semibold text-gray-800 dark:text-gray-200"}," 保存为模板 ")],-1)),d("div",Ll,[d("div",null,[f[10]||(f[10]=d("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," 模板名称 ",-1)),Y(d("input",{"onUpdate:modelValue":f[0]||(f[0]=k=>o.value=k),type:"text",placeholder:"例如：我的美妆标题模板",class:"input",onKeyup:at(g,["enter"])},null,544),[[oe,o.value]])]),d("div",Bl,[f[11]||(f[11]=d("p",null,"将保存以下内容：",-1)),d("ul",Dl,[d("li",null,"内容类型："+C(Z.value.name),1),d("li",null,"平台："+C((A=b.find(k=>k.value===q.value))==null?void 0:A.label),1),d("li",null,"填写的信息："+C(Object.keys(R.value).filter(k=>R.value[k]).length)+" 项",1)])])]),d("div",jl,[d("button",{class:"btn-secondary flex-1",onClick:f[1]||(f[1]=k=>c.value=!1)}," 取消 "),d("button",{class:"btn-primary flex-1",onClick:g}," 保存 ")])])])):V("",!0)])}}});export{Ql as default};
