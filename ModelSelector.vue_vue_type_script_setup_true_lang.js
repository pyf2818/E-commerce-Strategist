import{d as B,p as E,u as M,q as N,E as S,o as a,c as r,b as e,k as z,h as u,F as y,g as x,t as l,j as v,f as R,T as V,w as A,i as I,P as k,B as b,l as g}from"./index.js";const L={class:"text-base"},D={key:0,class:"text-gray-500 dark:text-gray-400"},K={key:1,class:"w-2 h-2 rounded-full bg-success-500"},O={key:2,class:"w-2 h-2 rounded-full bg-warning-500"},P={key:0,class:"absolute z-50 mt-2 w-72 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-lg overflow-hidden"},j={class:"p-3 border-b border-gray-200 dark:border-gray-700"},F={key:0,class:"flex items-center gap-2 p-2 rounded-lg bg-primary-50 dark:bg-primary-900/20"},$={class:"text-lg"},q={class:"flex-1 min-w-0"},U={class:"font-medium text-sm text-gray-800 dark:text-gray-200 truncate"},G={class:"text-xs text-gray-500 dark:text-gray-400 truncate"},H={key:1,class:"flex items-center gap-2 p-2 rounded-lg bg-warning-50 dark:bg-warning-900/20"},Q=B({__name:"ModelSelector",props:{modelType:{},showLabel:{type:Boolean,default:!0},size:{default:"md"}},setup(s){const m=s,f=E(),w=M(),o=b(!1),c=b(null),d=g(()=>w.config[m.modelType]),h=g(()=>{const n=d.value;return n.apiKey?`${k[n.provider]} - ${n.model}`:"æœªé…ç½®"}),i=g(()=>!!d.value.apiKey),T=g(()=>{switch(m.size){case"sm":return"text-xs px-2 py-1";case"lg":return"text-base px-4 py-3";default:return"text-sm px-3 py-2"}}),p=n=>{c.value&&!c.value.contains(n.target)&&(o.value=!1)};N(()=>{document.addEventListener("click",p)}),S(()=>{document.removeEventListener("click",p)});const C=()=>{o.value=!1,f.push("/settings")},_=()=>{o.value=!o.value};return(n,t)=>(a(),r("div",{ref_key:"dropdownRef",ref:c,class:"relative"},[e("button",{class:u(["flex items-center gap-2 rounded-lg border transition-all",[T.value,o.value?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 bg-white dark:bg-gray-800",!i.value&&"border-warning-300 dark:border-warning-700 bg-warning-50 dark:bg-warning-900/20"]]),onClick:z(_,["stop"])},[e("span",L,[s.modelType==="text"?(a(),r(y,{key:0},[x("ğŸ“")],64)):s.modelType==="image"?(a(),r(y,{key:1},[x("ğŸ¨")],64)):(a(),r(y,{key:2},[x("ğŸ¬")],64))]),s.showLabel?(a(),r("span",D,l(s.modelType==="text"?"æ–‡æœ¬æ¨¡å‹":s.modelType==="image"?"å›¾åƒæ¨¡å‹":"è§†é¢‘æ¨¡å‹")+": ",1)):v("",!0),e("span",{class:u(["font-medium truncate max-w-[200px]",i.value?"text-gray-800 dark:text-gray-200":"text-warning-700 dark:text-warning-400"])},l(h.value),3),i.value?(a(),r("span",K)):(a(),r("span",O)),(a(),r("svg",{class:u(["w-4 h-4 text-gray-500 dark:text-gray-400 transition-transform",o.value&&"rotate-180"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[0]||(t[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))],2),R(V,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:A(()=>[o.value?(a(),r("div",P,[e("div",j,[t[3]||(t[3]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400 mb-2"}," å½“å‰é…ç½® ",-1)),i.value?(a(),r("div",F,[e("span",$,l(s.modelType==="text"?"ğŸ“":s.modelType==="image"?"ğŸ¨":"ğŸ¬"),1),e("div",q,[e("div",U,l(I(k)[d.value.provider]),1),e("div",G,l(d.value.model),1)]),t[1]||(t[1]=e("span",{class:"text-success-500 text-sm"},"âœ“",-1))])):(a(),r("div",H,[...t[2]||(t[2]=[e("span",{class:"text-lg"},"âš ï¸",-1),e("div",{class:"flex-1"},[e("div",{class:"text-sm text-warning-700 dark:text-warning-400"}," å°šæœªé…ç½®æ¨¡å‹ "),e("div",{class:"text-xs text-warning-600 dark:text-warning-500"}," è¯·å…ˆé…ç½® API Key ")],-1)])]))]),e("div",{class:"p-2"},[e("button",{class:"w-full flex items-center gap-2 px-3 py-2 text-sm rounded-lg hover:bg-gray-100 dark:bg-gray-700 transition-colors text-left",onClick:C},[...t[4]||(t[4]=[e("span",null,"âš™ï¸",-1),e("span",{class:"text-gray-700 dark:text-gray-300"},"é…ç½®æ¨¡å‹è®¾ç½®",-1),e("span",{class:"ml-auto text-gray-500 dark:text-gray-400"},"â†’",-1)])])]),t[5]||(t[5]=e("div",{class:"px-3 py-2 bg-gray-50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700"},[e("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," ğŸ’¡ åœ¨è®¾ç½®é¡µé¢å¯ä»¥é…ç½®ä¸åŒçš„ AI æ¨¡å‹ï¼Œé…ç½®åå¯åœ¨æ­¤å¿«é€Ÿåˆ‡æ¢ ")],-1))])):v("",!0)]),_:1})],512))}});export{Q as _};
